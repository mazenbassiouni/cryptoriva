webpackJsonp([1],{"+WWG":function(t,e){},0:function(t,e,s){s("j1ja"),t.exports=s("NHnr")},"3GdG":function(t,e){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeD0iMHB4IiB5PSIwcHgiIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1MTIgNTEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgd2lkdGg9IjUxMnB4IiBoZWlnaHQ9IjUxMnB4Ij48Zz48Zz4KCTxnPgoJCTxwYXRoIGQ9Ik01MDguODc1LDI0OC40NThsLTc0LjY2Ny03NC42NjdjLTQuMTY3LTQuMTY3LTEwLjkxNy00LjE2Ny0xNS4wODMsMGMtNC4xNjcsNC4xNjctNC4xNjcsMTAuOTE3LDAsMTUuMDgzbDU2LjQ1OCw1Ni40NTggICAgSDI2Ni42NjdWMzYuNDE3bDU2LjQ1OCw1Ni40NThjMi4wODMsMi4wODMsNC44MTMsMy4xMjUsNy41NDIsMy4xMjVjMi43MjksMCw1LjQ1OC0xLjA0Miw3LjU0Mi0zLjEyNSAgICBjNC4xNjctNC4xNjcsNC4xNjctMTAuOTE3LDAtMTUuMDgzTDI2My41NDIsMy4xMjVjLTQuMTY3LTQuMTY3LTEwLjkxNy00LjE2Ny0xNS4wODMsMGwtNzQuNjY3LDc0LjY2NyAgICBjLTQuMTY3LDQuMTY3LTQuMTY3LDEwLjkxNywwLDE1LjA4M2M0LjE2Nyw0LjE2NywxMC45MTcsNC4xNjcsMTUuMDgzLDBsNTYuNDU4LTU2LjQ1OHYyMDguOTE3SDM2LjQxN2w1Ni40NTgtNTYuNDU4ICAgIGM0LjE2Ny00LjE2Nyw0LjE2Ny0xMC45MTcsMC0xNS4wODNjLTQuMTY3LTQuMTY3LTEwLjkxNy00LjE2Ny0xNS4wODMsMEwzLjEyNSwyNDguNDU4Yy00LjE2Nyw0LjE2Ny00LjE2NywxMC45MTcsMCwxNS4wODMgICAgbDc0LjY2Nyw3NC42NjdjMi4wODMsMi4wODMsNC44MTMsMy4xMjUsNy41NDIsMy4xMjVjMi43MjksMCw1LjQ1OC0xLjA0Miw3LjU0Mi0zLjEyNWM0LjE2Ny00LjE2Nyw0LjE2Ny0xMC45MTcsMC0xNS4wODMgICAgbC01Ni40NTgtNTYuNDU4aDIwOC45MTd2MjA4LjkxN2wtNTYuNDU4LTU2LjQ1OGMtNC4xNjctNC4xNjctMTAuOTE3LTQuMTY3LTE1LjA4MywwYy00LjE2Nyw0LjE2Ny00LjE2NywxMC45MTcsMCwxNS4wODMgICAgbDc0LjY2Nyw3NC42NjdjMi4wODMsMi4wODMsNC44MTMsMy4xMjUsNy41NDIsMy4xMjVjMi43MjksMCw1LjQ1OC0xLjA0Miw3LjU0Mi0zLjEyNWw3NC42NjctNzQuNjY3ICAgIGM0LjE2Ny00LjE2Nyw0LjE2Ny0xMC45MTcsMC0xNS4wODNjLTQuMTY3LTQuMTY3LTEwLjkxNy00LjE2Ny0xNS4wODMsMGwtNTYuNDU4LDU2LjQ1OFYyNjYuNjY3aDIwOC45MTdsLTU2LjQ1OCw1Ni40NTggICAgYy00LjE2Nyw0LjE2Ny00LjE2NywxMC45MTcsMCwxNS4wODNjMi4wODMsMi4wODMsNC44MTMsMy4xMjUsNy41NDIsMy4xMjVzNS40NTgtMS4wNDIsNy41NDItMy4xMjVsNzQuNjY3LTc0LjY2NyAgICBDNTEzLjA0MiwyNTkuMzc1LDUxMy4wNDIsMjUyLjYyNSw1MDguODc1LDI0OC40NTh6IiBkYXRhLW9yaWdpbmFsPSIjMDAwMDAwIiBjbGFzcz0iYWN0aXZlLXBhdGgiIGRhdGEtb2xkX2NvbG9yPSIjMDAwMDAwIiBmaWxsPSIjMmQ0Mjc3Ii8+Cgk8L2c+CjwvZz48L2c+IDwvc3ZnPgo="},HTxz:function(t,e){},IuFh:function(t,e,s){(function(t){"use strict";function e(t,s){var a=i({},t);for(var n in s)"object"!=typeof t[n]||null===t[n]||Array.isArray(t[n])?void 0!==s[n]&&(a[n]=s[n]):a[n]=e(t[n],s[n]);return a}function s(){return"1.12 (internal id 630b704a @ 2018-06-06 02:16:11.305509)"}var i=Object.assign||function(t){for(var e,s=arguments,i=1,a=arguments.length;i<a;i++)for(var n in e=s[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},a={mobile:{disabled_features:["left_toolbar","header_widget","timeframes_toolbar","edit_buttons_in_legend","context_menus","control_bar","border_around_the_chart"],enabled_features:[]}},n={width:800,height:500,symbol:"AA",interval:"D",timezone:"UTC",container_id:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"W"},{text:"1y",resolution:"W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[]}},r=function(){function t(t){if(this._id="tradingview_"+(1048576*(1+Math.random())|0).toString(16).substring(1),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!t.datafeed)throw new Error("Datafeed is not defined");if(this._options=e(n,t),t.preset){var s=a[t.preset];s?(void 0!==this._options.disabled_features?this._options.disabled_features=this._options.disabled_features.concat(s.disabled_features):this._options.disabled_features=s.disabled_features,void 0!==this._options.enabled_features?this._options.enabled_features=this._options.enabled_features.concat(s.enabled_features):this._options.enabled_features=s.enabled_features):console.warn("Unknown preset: `"+t.preset+"`")}this._create()}return t.prototype.onChartReady=function(t){this._ready?t.call(this):this._readyHandlers.push(t)},t.prototype.onGrayedObjectClicked=function(t){this._innerAPI().onGrayedObjectClicked(t)},t.prototype.onShortcut=function(t,e){this._innerWindow().createShortcutAction(t,e)},t.prototype.subscribe=function(t,e){this._innerAPI().subscribe(t,e)},t.prototype.unsubscribe=function(t,e){this._innerAPI().unsubscribe(t,e)},t.prototype.chart=function(t){return this._innerAPI().chart(t)},t.prototype.setLanguage=function(t){this.remove(),this._options.locale=t,this._create()},t.prototype.setSymbol=function(t,e,s){this._innerAPI().changeSymbol(t,e+"",s)},t.prototype.remove=function(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id];var t=this._getIFrameElement();t.contentWindow.destroyChart(),t.parentNode&&t.parentNode.removeChild(t)},t.prototype.closePopupsAndDialogs=function(){this._innerAPI().closePopupsAndDialogs()},t.prototype.selectLineTool=function(t){this._innerAPI().selectLineTool(t)},t.prototype.selectedLineTool=function(){return this._innerAPI().selectedLineTool()},t.prototype.save=function(t){this._innerAPI().saveChart(t)},t.prototype.load=function(t,e){this._innerAPI().loadChart({json:t,extendedData:e})},t.prototype.getSavedCharts=function(t){this._innerAPI().getSavedCharts(t)},t.prototype.loadChartFromServer=function(t){this._innerAPI().loadChartFromServer(t)},t.prototype.saveChartToServer=function(t,e,s,i){this._innerAPI().saveChartToServer(t,e,s,i)},t.prototype.removeChartFromServer=function(t,e){this._innerAPI().removeChartFromServer(t,e)},t.prototype.onContextMenu=function(t){this._innerAPI().onContextMenu(t)},t.prototype.createButton=function(t){return this._innerWindow().createButton(t)},t.prototype.showNoticeDialog=function(t){this._innerAPI().showNoticeDialog(t)},t.prototype.showConfirmDialog=function(t){this._innerAPI().showConfirmDialog(t)},t.prototype.showLoadChartDialog=function(){this._innerAPI().showLoadChartDialog()},t.prototype.showSaveAsChartDialog=function(){this._innerAPI().showSaveAsChartDialog()},t.prototype.symbolInterval=function(){return this._innerAPI().getSymbolInterval()},t.prototype.mainSeriesPriceFormatter=function(){return this._innerAPI().mainSeriesPriceFormatter()},t.prototype.getIntervals=function(){return this._innerAPI().getIntervals()},t.prototype.getStudiesList=function(){return this._innerAPI().getStudiesList()},t.prototype.addCustomCSSFile=function(t){this._innerWindow().addCustomCSSFile(t)},t.prototype.applyOverrides=function(t){this._options=e(this._options,{overrides:t}),this._innerWindow().applyOverrides(t)},t.prototype.applyStudiesOverrides=function(t){this._innerWindow().applyStudiesOverrides(t)},t.prototype.watchList=function(){return this._innerAPI().watchlist()},t.prototype.activeChart=function(){return this._innerAPI().activeChart()},t.prototype.chartsCount=function(){return this._innerAPI().chartsCount()},t.prototype.layout=function(){return this._innerAPI().layout()},t.prototype.setLayout=function(t){this._innerAPI().setLayout(t)},t.prototype._getIFrameElement=function(){var t=document.getElementById(this._id);if(null===t)throw new Error("There is no such iframe");return t},t.prototype._innerAPI=function(){return this._getIFrameElement().contentWindow.tradingViewApi},t.prototype._innerWindow=function(){return this._getIFrameElement().contentWindow},t.prototype._autoResizeChart=function(){this._options.fullscreen&&(this._getIFrameElement().style.height=window.innerHeight+"px")},t.prototype._create=function(){var t=this,e=this._render(),s=document.getElementById(this._options.container_id);if(null===s)throw new Error("There is no such element - #"+this._options.container_id);s.innerHTML=e;var i=this._getIFrameElement();(this._options.autosize||this._options.fullscreen)&&(i.style.width="100%",this._options.fullscreen||(i.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize();var a=function(){i.removeEventListener("load",a,!1),i.contentWindow.widgetReady(function(){t._ready=!0;for(var e=0,s=t._readyHandlers;e<s.length;e++)s[e].call(t);i.contentWindow.initializationFinished()})};i.addEventListener("load",a,!1)},t.prototype._render=function(){var t=window;t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.customFormatters,brokerFactory:this._options.brokerFactory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter},this._options.saved_data&&(t[this._id].chartContent={json:this._options.saved_data});var e=(this._options.library_path||"")+"static/tv-chart.630b704a2b9d0eaf1593.html#localserver=1&symbol="+encodeURIComponent(this._options.symbol)+"&interval="+encodeURIComponent(this._options.interval)+(this._options.timeframe?"&timeframe="+encodeURIComponent(this._options.timeframe):"")+(this._options.toolbar_bg?"&toolbarbg="+this._options.toolbar_bg.replace("#",""):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.indicators_file_name?"&indicatorsFile="+encodeURIComponent(this._options.indicators_file_name):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+this._options.debug+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"");return'<iframe id="'+this._id+'" name="'+this._id+'"  src="'+e+'"'+(this._options.autosize||this._options.fullscreen?"":' width="'+this._options.width+'" height="'+this._options.height+'"')+' frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;"></iframe>'},t}();window.TradingView=window.TradingView||{},window.TradingView.version=s,t.version=s,t.onready=function(t){window.addEventListener("DOMContentLoaded",t,!1)},t.widget=r,Object.defineProperty(t,"__esModule",{value:!0})})(e)},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("7+uW"),a=s("NYxO"),n={set:function(t,e,s){var i=new Date;i.setDate(i.getDate()+s),document.cookie=t+"="+escape(e)+(null==s?"":";expires="+i.toGMTString())+";path=/"},get:function(t){if(document.cookie.length>0){var e=document.cookie.indexOf(t+"=");if(-1!=e){e=e+t.length+1;var s=document.cookie.indexOf(";",e);return-1==s&&(s=document.cookie.length),unescape(document.cookie.substring(e,s))}}return""}},r=n;i.a.use(a.a);var o=r.get("think_language")||"en-us",l=r.get("skin")||"black";"white"==l&&(document.body.className="skin-white");var c=window.location.href.match(/\/market\/([^\/]*)/),u="btc_usdt";c&&c[1]&&(u=c[1]);var d={skin:l,dev:r.get("trade_dev"),localhost:(r.get("trade_dev"),""),servicehost:(r.get("trade_dev"),"/api/"),language:o,login:!1,initMarket:!1,entrustDepth:2,resize:0,coinlist:{},usd:{usd:0,coin:0},navigation:{},userInfo:{usd:"0",usdd:"0",mobile:"",nickName:"",token:"",userid:"",vip:{usertype:"1",fee_discounts:"0%"}},marketInfo:{round:6,step:"0.1",p_round:2,p_step:"0.1",market:u,title:"",ws:"",img:""},tradeLog:[],entrustDepthRound:2,tradingview_config:{},tradingview:{},tradePriceBuy:"",tradePriceSell:"",tradeVolumeBuy:"",tradeVolumeSell:"",tradeNicePrice:"0",tradeNicePriceBuy:"0",tradeNicePriceSell:"0",update:{},fav:{},socketState:!1,socketTopic:{amount:0,high:0,id:0,low:0,price:0,rate:0,volume:0,name:""},socketLatestdeal:[],socketPendingOrderBuy:[],socketPendingOrderSell:[],socketCoinList:[],socketTrade:{},socketAsset:[],socketDepth:{buy:[],sell:[],price:0}},h=new a.a.Store({state:d,mutations:{changeSkin:function(t,e){t.skin=e},setUSD:function(t,e){t.usd=e},setLogin:function(t,e){t.login=e},setCoinlist:function(t,e){t.coinlist=e},setNavigation:function(t,e){t.navigation=e},setInitMarket:function(t,e){t.initMarket=e},setUserInfo:function(t,e){t.userInfo=e},setMarketInfo:function(t,e){t.marketInfo=e},changeLanguage:function(t,e){t.language=e},changeLang:function(t,e){t.lang=e},addTradingview:function(t,e){t.tradingview=e},addTradingviewConfig:function(t,e){t.tradingview_config=e},setTradePrice:function(t,e){t.tradePriceBuy=e,t.tradePriceSell=e},setTradePriceBuy:function(t,e){t.tradePriceBuy=e},setTradePriceSell:function(t,e){t.tradePriceSell=e},setTradeVolume:function(t,e){t.tradeVolumeBuy=e,t.tradeVolumeSell=e},setTradeVolumeBuy:function(t,e){t.tradeVolumeBuy=e},setTradeVolumeSell:function(t,e){t.tradeVolumeSell=e},setTradeNicePrice:function(t,e){t.tradeNicePrice=e},setTradeNicePriceBuy:function(t,e){t.tradeNicePriceBuy=e},setTradeNicePriceSell:function(t,e){t.tradeNicePriceSell=e},addResize:function(t,e){t.resize++},setUpdate:function(t,e){t.update=e},setFav:function(t,e){t.fav=e},changeSocketTopic:function(t,e){t.socketTopic=e},changeSocketLatestdeal:function(t,e){t.socketLatestdeal=e},changeSocketPendingOrderBuy:function(t,e){t.socketPendingOrderBuy=e},changeSocketPendingOrderSell:function(t,e){t.socketPendingOrderSell=e},changeSocketCoinList:function(t,e){t.socketCoinList=e},changeSocketTrade:function(t,e){t.socketTrade=e},changeSocketAsset:function(t,e){t.socketAsset=e},changeSocketState:function(t,e){t.socketState=e},changeSocketEntrustDepth:function(t,e){t.entrustDepth=e},changeEntrustDepthRound:function(t,e){t.entrustDepthRound=e},changeSocketDepth:function(t,e){t.socketDepth=e},changeTradeLog:function(t,e){t.tradeLog=e}}});Array.prototype.insertSort=function(t){t=t||function(t,e){return e>t};for(var e=1;e<this.length;e++){for(var s=this[e],i=e-1;i>=0&&t(this[i],s);)this[i+1]=this[i],i--;this[i+1]=s}return this},Object.defineProperty(Array.prototype,"insertSort",{enumerable:!1});Array;Math.toFixed=function(t,e){if(isNaN(t)||isNaN(e)||!e||e<0)return t;for(var s="",i=0;i<e;i++)s+="0";var a=(t+"").split(".");return 1==a.length?a[0]+"."+s:a[0]+"."+(a[1]+s).substr(0,e)},Object.defineProperty(Math,"toFixed",{enumerable:!1});Math;CanvasRenderingContext2D.prototype.roundRect=function(t,e,s,i,a){var n=Math.min(s,i);return a>n/2&&(a=n/2),this.beginPath(),this.moveTo(t+a,e),this.arcTo(t+s,e,t+s,e+i,a),this.arcTo(t+s,e+i,t,e+i,a),this.arcTo(t,e+i,t,e,a),this.arcTo(t,e,t+s,e,a),this.closePath(),this},Object.defineProperty(CanvasRenderingContext2D,"roundRect",{enumerable:!1});CanvasRenderingContext2D,s("n4oI"),s("xKWN"),s("XTKv"),s("+WWG"),s("j1ja");var p={name:"Header",props:{coinlist:{type:Object,default:function(){return{}}}},data:function(){return{someList:{},orderList:{},lang:this.$store.state.lang,usd:this.$store.state.marketInfo.market.split("_")[1]}},watch:{coinlist:function(){var t=this.coinlist;for(var e in t){var s=t[e].name.split("_")[1];this.someList[s]||this.$set(this.someList,s,[]),this.someList[s].push(t[e])}}},mounted:function(){var t=this.$store.state.skin;this.changeSkin(t)},methods:{changeSkin:function(t){if(t==this.$store.state.skin)return!1;this.$store.state.tradingview_config.loading&&this.$store.state.tradingview_config.resetTheme(t),this.$store.commit("changeSkin",t),this.$layer.apply({skin:t}),this.$Cookies.set("skin",t,7),document.body.className="white"==t?"skin-white":""},changeLang:function(t){var e=this;this.$store.state.language!=t&&(this.$Cookies.set("think_language",t,7),window.location.reload()),this.$refs.lang_box.classList.add("hide"),setTimeout(function(){e.$refs.lang_box.classList.remove("hide")},300)}}},m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("div",{staticClass:"header-menu"},[s("div",{staticClass:"window-wrap clearfix"},[s("div",{staticClass:"pull-left home-logo"},[s("a",{attrs:{href:t.$store.state.localhost+"/"}})]),t._v(" "),s("div",{},[s("ul",{staticClass:"header-menus pull-left"},t._l(t.$store.state.navigation,function(e,i){return s("li",{key:i,staticClass:"item-submenu"},[s("a",{attrs:{href:t.$store.state.localhost+"/"+e.url}},[s("span",{staticClass:"flex-caret"},[t._v(t._s(e.title)+" "),e.submenu?s("em",{staticClass:"show-caret"}):t._e()])]),t._v(" "),s("ul",{staticClass:"dropdown"},t._l(e.submenu,function(e,i){return s("li",{key:i},[s("a",{attrs:{href:"#"}},[t._v(t._s(e.title))])])}),0)])}),0),t._v(" "),s("ul",{staticClass:"pull-right login_lan trade_login_lan"},[s("li",{staticClass:"style-box"},[s("span",[t._v(t._s(t.$lang.menuSkin))]),t._v(" "),s("span",{class:("white"==t.$store.state.skin?"active ":"")+"style-white",on:{click:function(e){return t.changeSkin("white")}}}),t._v(" "),s("span",{class:("black"==t.$store.state.skin?"active ":"")+"style-black",on:{click:function(e){return t.changeSkin("black")}}})]),t._v(" "),s("li",{staticClass:"lang-option"},[s("div",{staticClass:"text-nowrap"},[s("span",{class:"iti-flag "+("zh-cn"==t.$store.state.language?t.$lang.langZhclass:t.$lang.langEnclass)}),t._v(t._s("zh-cn"==t.$store.state.language?t.$lang.langZh:t.$lang.langEn)+"\n                        ")]),t._v(" "),s("div",{ref:"lang_box",staticClass:"more-lan"},[s("a",{staticClass:"text-nowrap",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeLang("zh-cn")}}},[s("span",{class:"iti-flag "+t.$lang.langZhclass}),t._v(t._s(t.$lang.langZh))]),t._v(" "),s("a",{staticClass:"text-nowrap",attrs:{href:"javascript:;"},on:{click:function(e){return t.changeLang("en-us")}}},[s("span",{class:"iti-flag "+t.$lang.langEnclass}),t._v(t._s(t.$lang.langEn))])])])]),t._v(" "),s("div",{staticClass:"pull-right user_info_box"},[s("ul",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.login,expression:"$store.state.login"}],class:(t.$store.state.login?"":"hide ")+"pull-right user_info_list login_lan",attrs:{id:"login-ing"}},[s("li",{staticClass:"login-out pull-right"},[s("a",{attrs:{href:t.$store.state.localhost+"/Login/loginout"}},[t._v(t._s(t.$lang.menuLogout))])]),t._v(" "),s("li",{staticClass:"user-info pull-right"},[s("a",{staticClass:"user-name",attrs:{title:"",href:t.$store.state.localhost+"/User/"}},[s("span",[s("em",{attrs:{id:"username"}},[t._v(t._s(t.$store.state.userInfo.nickName))])])]),t._v(" "),s("div",{staticClass:"user-info-list otc-trade-more-box"},[t.$store.state.userInfo?s("div",{staticClass:"clearfix text-nowrap"},[s("div",{staticClass:"user-info-item"},[s("h4",[t._v("\n                                            "+t._s(t.$lang.menuBalance)+"：\n                                            "),s("strong",{attrs:{id:"userCoin"}},[t._v(t._s(t.$store.state.userInfo.usd))]),t._v("\n                                            "+t._s(t.usd.toLocaleUpperCase())+"\n                                        ")])]),t._v(" "),s("div",{staticClass:"user-info-item"},[s("h4",[t._v("\n                                            "+t._s(t.$lang.menuFrozen)+"："),s("strong",{attrs:{id:"userCoinUsdd"}},[t._v(t._s(t.$store.state.userInfo.usdd))]),t._v("\n                                            "+t._s(t.usd.toLocaleUpperCase())+"\n                                        ")])])]):t._e()])])]),t._v(" "),s("ul",{class:(t.$store.state.login?"hide ":"")+"header-login pull-left",attrs:{id:"login-out"}},[s("li",{staticClass:"pull-right"},[s("a",{staticClass:"active",attrs:{href:t.$store.state.localhost+"/Login/register",id:"registerBtn"}},[s("span",[t._v(t._s(t.$lang.menuRegister))])])]),t._v(" "),s("li",{staticClass:"pull-right"},[s("a",{attrs:{href:t.$store.state.localhost+"/Login/login",id:"loginBtn"}},[s("span",[t._v(t._s(t.$lang.menuLogin))])])])])])])])])])},staticRenderFns:[]},f=s("VU/8")(p,m,!1,null,null,null).exports,v=s("oziR"),g=(s("QR4E"),{name:"List",props:{coinlist:{type:Array,default:function(){return[]}},fav:{type:Object,default:function(){return{}}},state:{type:Object,default:function(){return{search:!1,fav_active:!1}}},usd:String},data:function(){return{loading:{},favDate:{},more:!1,morebtnstate:!1}},computed:{morebtn:function(){return this.coinlist2.length>0},coinlist01:function(){var t=[];return this.coinlistFilter.forEach(function(e){0!=e.main_coin&&1!=e.main_coin||t.push(e)}),t},coinlist2:function(){var t=[];return this.coinlistFilter.forEach(function(e){2==e.main_coin&&t.push(e)}),t},coinlistFilter:function(){var t=this,e=[];return this.coinlist.forEach(function(s){s.hide||s.name.split("_")[1]!=t.usd||e.push(s)}),e}},created:function(){},methods:{loadmore:function(){this.more=!0,this.morebtnstate=!0},replace_market:function(t){var e={market:t};window.history.pushState(e,"page 2","/market/"+t)},toFixed:function(t,e){return t.toFixed(e)},toggleFav:function(t){var e=this;if(!e.$store.state.login)return e.$layer.msg(e.$lang.tradeLogin,{icon:1,time:1e3}),!1;e.favDate=this.fav;var s=e.$store.state.servicehost+"/user/v1star/action/"+(e.fav[t]?"remove":"add");if(e.loading[t])return!1;e.$set(e.loading,t,!0),e.axios.post(s,{userId:e.$store.state.userInfo.userid,token:e.$store.state.userInfo.token,coinType:t}).then(function(s){1==s.data.status?(e.favDate[t]=!e.favDate[t],e.loading[t]=!1,!e.favDate[t]&&e.state.fav_active&&e.coinlist.forEach(function(e){e.name==t&&(e.hide=!0)}),e.$store.commit("setFav",e.favDate)):e.loading[t]=!1}).catch(function(){e.loading[t]=!1})}}}),_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:(0==t.coinlist.length?"min-h60 ":"")+"list pos-rel"},[s("div",t._l(t.coinlist01,function(e,i){return s("ul",{key:i,class:"flex-box bjs-tab-tr text-nowrap plr5"+(e.name==t.$store.state.marketInfo.market?" active":"")},[s("li",{staticClass:"flex-item-3"},[s("a",{staticClass:"bjs-bi-icon",attrs:{href:t.$store.state.localhost+"/Trade/index/market/"+e.name}},[s("img",{attrs:{src:t.$store.state.localhost+"/Upload/coin/"+e.img}}),s("span",{staticClass:"market-base"},[t._v(t._s(e.name.split("_")[0].toLocaleUpperCase()))]),s("span",{staticClass:"market-name"},[t._v("/"+t._s(e.name.split("_")[1].toLocaleUpperCase()))])])]),t._v(" "),s("li",{staticClass:"flex-item-3 tr"},[s("a",{staticClass:"db",attrs:{href:t.$store.state.localhost+"/Trade/index/market/"+e.name}},[t._v(t._s(1*e.new_price))])]),t._v(" "),s("li",{staticClass:"flex-item-3 tr"},[s("a",{staticClass:"db",attrs:{href:t.$store.state.localhost+"/Trade/index/market/"+e.name}},[s("span",{class:1*e.change>0?"icon-arrow-up":"icon-arrow-down"},[t._v(t._s(e.change>0?"+"+e.change:e.change)+"%")])])]),t._v(" "),s("li",{staticClass:"tr"},[s("span",{class:(t.fav[e.name]?"star-cur ":"")+(t.loading[e.name]?"loading-fav ":"")+"bjs-star",attrs:{"data-name":e.name},on:{click:function(s){return t.toggleFav(e.name)}}})])])}),0),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.morebtn,expression:"morebtn"}],class:"tc pad2-0"+(t.morebtnstate?" hide":"")},[s("span",{staticClass:"mouseover",on:{click:t.loadmore}},[t._v(t._s(t.$lang.coinlistload))])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.more,expression:"more"}]},t._l(t.coinlist2,function(e,i){return s("ul",{key:i,class:"flex-box bjs-tab-tr text-nowrap plr5"+(e.name==t.$store.state.marketInfo.market?" active":"")},[s("li",{staticClass:"flex-item-3"},[s("a",{staticClass:"bjs-bi-icon",attrs:{href:t.$store.state.localhost+"/Trade/index/market/"+e.name}},[s("img",{attrs:{src:t.$store.state.localhost+"/Upload/coin/"+e.img}}),t._v(t._s("zh-cn"==t.$store.state.language?e.title.replace(/\(.*\)/g,""):e.title.replace(/.*\((.*)\/.*/,"$1").toLocaleUpperCase()))])]),t._v(" "),s("li",{staticClass:"flex-item-3 tr"},[s("a",{staticClass:"db",attrs:{href:t.$store.state.localhost+"/Trade/index/market/"+e.name}},[t._v(t._s(t.toFixed(e.new_price,e.round)))])]),t._v(" "),s("li",{staticClass:"flex-item-3 tr"},[s("a",{staticClass:"db",attrs:{href:t.$store.state.localhost+"/Trade/index/market/"+e.name}},[s("span",{class:1*e.change>0?"icon-arrow-up":"icon-arrow-down"},[t._v(t._s(e.change>0?"+"+e.change:e.change)+"%")])])]),t._v(" "),s("li",{staticClass:"tr"},[s("span",{class:(t.fav[e.name]?"star-cur ":"")+(t.loading[e.name]?"loading-fav ":"")+"bjs-star",attrs:{"data-name":e.name},on:{click:function(s){return t.toggleFav(e.name)}}})])])}),0),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.coinlist.length&&!t.$store.state.socketState,expression:"coinlist.length == 0 && !$store.state.socketState"}],staticClass:"trade-view-loading scale5"})])},staticRenderFns:[]},y={name:"Coinlist",props:["fav","coinlistdata"],data:function(){return{usd:this.$store.state.marketInfo.market.split("_")[1],searchType:this.$store.state.marketInfo.market.split("_")[1],keywords:"",sortstate:{name:0,new_price:0,change:0},state:{tab:this.$store.state.marketInfo.market.split("_")[1],search:!1,fav_active:!1}}},components:{List:s("VU/8")(g,_,!1,null,null,null).exports},methods:{search:function(){var t=this,e=t.keywords.trim();t.coinlistdata.forEach(function(s){""==e?(t.state.search=!1,s.hide=!1):(t.state.search=!0,-1==s.title.replace(/(\(|\/.*)/g,"").toLowerCase().search(e.toLowerCase())?s.hide=!0:s.hide=!1),t.state.fav_active&&!t.fav[s.name]&&(s.hide=!0)})},sort:function(t){var e=this.sortstate;for(var s in e)s!=t&&(e[s]=0);1!=e[t]?e[t]=1:e[t]=2;var i=this.coinlistdata;i.insertSort(function(s,i){return isNaN(s[t])?1==e[t]?s[t]>i[t]:s[t]<i[t]:1==e[t]?1*s[t]>1*i[t]:1*s[t]<1*i[t]});var a=[];i.forEach(function(t){a.push(t)}),this.$store.commit("changeSocketCoinList",a)},change:function(t,e){var s=this;if(s.state.tab===t)return!1;if("fav"==t){if(!s.$store.state.login)return s.$layer.msg(s.$lang.tradeLogin,{icon:1,time:1e3}),!1;s.usd="",s.state.tab=t,s.state.fav_active=!0,s.coinlistdata.forEach(function(t){(s.state.search&&!t.hide||!s.state.search)&&(s.fav[t.name]?t.hide=!1:t.hide=!0)})}else s.state.tab=t,s.usd=t,s.state.fav_active=!1,s.coinlistdata.forEach(function(t){t.hide=!1}),s.state.search&&s.search();s.searchType=e}}},b={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content-unit bjs-tab"},[s("div",{staticClass:"content-pad"},[s("div",{staticClass:"bjs-tab-head"},[s("ul",{staticClass:"clearfix flex-box"},[s("li",{},[s("a",{class:"btc"==t.state.tab?"active":"",attrs:{href:"javascript:;"},on:{click:function(e){return t.change("btc","BTC")}}},[s("span",[t._v("BTC")])])]),t._v(" "),s("li",{},[s("a",{class:"eth"==t.state.tab?"active":"",attrs:{href:"javascript:;"},on:{click:function(e){return t.change("eth","ETH")}}},[s("span",[t._v("ETH")])])]),t._v(" "),s("li",[s("a",{class:"usdt"==t.state.tab?"active":"",attrs:{href:"javascript:;"},on:{click:function(e){return t.change("usdt","USDT")}}},[s("span",[t._v("USDT")])])]),t._v(" "),s("li",[s("a",{class:"usd"==t.state.tab?"active":"",attrs:{href:"javascript:;"},on:{click:function(e){return t.change("usd","USD")}}},[s("span",[t._v("USD")])])]),t._v(" "),s("li",{staticClass:"hide"},[s("a",{class:"limited"==t.state.tab?"active":"",attrs:{href:"javascript:;"},on:{click:function(e){return t.change("limited",t.$lang.coinlistLimited)}}},[s("span",[t._v(t._s(t.$lang.coinlistLimited))])])])]),t._v(" "),t._m(0)]),t._v(" "),s("div",{staticClass:"bjs-search"},[s("div",{staticClass:"clearfix"},[s("div",{staticClass:"clearfix"},[s("div",{staticClass:"bjs-search-box"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"}],staticClass:"form-input",attrs:{type:"text",name:"keywords",placeholder:t.$lang.coinlistsearch+t.searchType.toLocaleUpperCase()},domProps:{value:t.keywords},on:{input:[function(e){e.target.composing||(t.keywords=e.target.value)},t.search]}})])])])]),t._v(" "),s("div",{staticClass:"bjs-tab-cont font12"},[s("div",{staticClass:"bjs-tab-cont-head tophgrey"},[s("ul",{staticClass:"clearfix bjs-tab-tr flex-box tophgrey"},[s("li",{staticClass:"flex-item-3"},[s("span",{staticClass:"curr-base",on:{click:function(e){return t.sort("name")}}},[t._v(t._s(t.$lang.coinlistCoins)),s("em",{class:(1==t.sortstate.name?"active ":"")+"bjs-sort-up"}),s("em",{class:(2==t.sortstate.name?"active ":"")+"bjs-sort-down"})])]),t._v(" "),s("li",{staticClass:"flex-item-3 tr"},[s("span",{staticClass:"curr-base",on:{click:function(e){return t.sort("new_price")}}},[t._v(t._s(t.$lang.coinlistPrice)),s("em",{class:(1==t.sortstate.new_price?"active ":"")+"bjs-sort-up"}),s("em",{class:(2==t.sortstate.new_price?"active ":"")+"bjs-sort-down"})])]),t._v(" "),s("li",{staticClass:"flex-item-3 tr"},[s("span",{staticClass:"curr-base",on:{click:function(e){return t.sort("change")}}},[t._v(t._s(t.$lang.coinlistChange)),s("em",{class:(1==t.sortstate.change?"active ":"")+"bjs-sort-up"}),s("em",{class:(2==t.sortstate.change?"active ":"")+"bjs-sort-down"})])]),t._v(" "),t._m(1)])]),t._v(" "),s("div",{staticClass:"bjs-tab-cont-wrap"},[s("div",{staticClass:"new-coin-list"},[s("List",{attrs:{usd:t.usd,fav:t.fav,coinlist:t.coinlistdata,state:t.state}})],1)])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"move"},[e("img",{attrs:{src:s("3GdG")}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"tr"},[e("span",{staticClass:"bjs-star star-cur"})])}]},w=s("VU/8")(y,b,!1,null,null,null).exports,k=(s("IuFh"),s("//Fk")),x=s.n(k),C=s("mvHQ"),$=s.n(C),S=s("Zrlr"),T=s.n(S),D=s("wxAW"),P=s.n(D),I=function(){function t(e,s){T()(this,t),this.heartBeatTimer=null,this.options=s,this.messageMap={},this.connState=0,this.socket=null,this.url=e}return P()(t,[{key:"doOpen",value:function(){var t=this;if(!this.connState){this.connState=1,this.afterOpenEmit=[];var e=new(window.WebSocket||window.MozWebSocket)(this.url);e.binaryType="arraybuffer",e.onopen=function(e){return t.onOpen(e)},e.onclose=function(e){return t.onClose(e)},e.onmessage=function(e){return t.onMessage(e.data)},e.onerror=function(e){return t.onError(e)},this.socket=e}}},{key:"onOpen",value:function(t){this.connState=2,this.onReceiver({Event:"open"})}},{key:"checkOpen",value:function(){return 2===this.connState}},{key:"onClose",value:function(){this.connState&&(this.connState=0,this.onReceiver({Event:"close"}))}},{key:"send",value:function(t){var e=this;1!=this.socket.readyState?setTimeout(function(){e.send(t)},100):this.socket.send($()(t))}},{key:"emit",value:function(t){var e=this;return new x.a(function(s){e.socket.send($()(t)),e.on("message",function(t){s(t)})})}},{key:"onMessage",value:function(t){try{var e=JSON.parse(t);this.onReceiver({Event:"message",Data:e})}catch(t){console.error(" >> Data parsing error:",t)}}},{key:"checkHeartbeat",value:function(){var t={type:"ping",args:[Date.parse(new Date)]};this.send(t)}},{key:"onError",value:function(t){}},{key:"onReceiver",value:function(t){var e=this.messageMap[t.Event];e&&e(t.Data)}},{key:"on",value:function(t,e){this.messageMap[t]=e}},{key:"doClose",value:function(){this.socket.close()}},{key:"destroy",value:function(){this.heartBeatTimer&&(clearInterval(this.heartBeatTimer),this.heartBeatTimer=null),this.doClose(),this.messageMap={},this.connState=0,this.socket=null}}]),t}(),M=s("woOf"),L=s.n(M),N=function(){function t(e){T()(this,t),this.subscribers={},this.requestsPending=0,this.historyProvider=e}return P()(t,[{key:"subscribeBars",value:function(t,e,s,i){this.subscribers[i]={lastBarTime:null,listener:s,resolution:e,symbolInfo:t}}},{key:"unsubscribeBars",value:function(t){delete this.subscribers[t]}},{key:"updateData",value:function(){var t=this;if(!this.requestsPending)for(var e in this.requestsPending=0,this.subscribers)this.requestsPending++,this.updateDataForSubscriber(e).then(function(){return t.requestsPending--}).catch(function(){return t.requestsPending--})}},{key:"updateDataForSubscriber",value:function(t){var e=this;return new x.a(function(s,i){var a=e.subscribers[t],n=parseInt((Date.now()/1e3).toString()),r=n-e.periodLengthSeconds(a.resolution,10);e.historyProvider.getBars(a.symbolInfo,a.resolution,r,n,function(i){e.onSubscriberDataReceived(t,i),s()},function(){i()})})}},{key:"onSubscriberDataReceived",value:function(t,e){if(this.subscribers.hasOwnProperty(t)&&e.length){var s=e[e.length-1],i=this.subscribers[t];if(!(null!==i.lastBarTime&&s.time<i.lastBarTime)){if(null!==i.lastBarTime&&s.time>i.lastBarTime){if(e.length<2)throw new Error("Not enough bars in history for proper pulse update. Need at least 2.");var a=e[e.length-2];i.listener(a)}i.lastBarTime=s.time,i.listener(s)}}}},{key:"periodLengthSeconds",value:function(t,e){return 24*("D"===t||"1D"===t?e:"M"===t||"1M"===t?31*e:"W"===t||"1W"===t?7*e:e*parseInt(t)/1440)*60*60}}]),t}(),B=function(){function t(e){T()(this,t),this.self=e,this.barsUpdater=new N(this)}return P()(t,[{key:"onReady",value:function(t){var e=this;return new x.a(function(t,s){var i=e.defaultConfiguration();e.self.getConfig&&(i=L()(e.defaultConfiguration(),e.self.getConfig())),t(i)}).then(function(e){return t(e)})}},{key:"resolveSymbol",value:function(t,e,s){var i=this;return new x.a(function(t,e){var s=i.defaultSymbol();i.self.getSymbol&&(s=L()(i.defaultSymbol(),i.self.getSymbol())),t(s)}).then(function(t){return e(t)}).catch(function(t){return s(t)})}},{key:"getBars",value:function(t,e,s,i,a,n){this.self.getBars(t,e,s,i,function(t){t&&t.length?a(t,{noData:!0}):a([],{noData:!0})})}},{key:"subscribeBars",value:function(t,e,s,i,a){this.barsUpdater.subscribeBars(t,e,s,i,a)}},{key:"unsubscribeBars",value:function(t){this.barsUpdater.unsubscribeBars(t)}},{key:"defaultConfiguration",value:function(){return{supports_search:!0,supports_group_request:!1,supported_resolutions:["1","5","15","30","60","1D","2D","3D","1W","1M"],supports_marks:!0,supports_timescale_marks:!0,supports_time:!0}}},{key:"defaultSymbol",value:function(){var t=this.self.$store.state.marketInfo.p_round,e=Math.pow(10,t);return{name:this.self.$store.state.marketInfo.market.replace(/_/,"/").toLocaleUpperCase(),timezone:"Asia/Shanghai",minmov:1,minmov2:0,pointvalue:1,fractional:!1,session:"24x7",has_intraday:!0,has_no_volume:!1,description:this.self.$store.state.marketInfo.market.replace(/_/,"/").toLocaleUpperCase(),pricescale:e,ticker:this.self.$store.state.marketInfo.market.replace(/_/,"/").toLocaleUpperCase(),supported_resolutions:["1","5","15","30","60","1D","2D","3D","1W","1M"]}}}]),t}(),j={},F={W:604800,M:2592e3,D:86400,1:60,5:300,15:900,30:1800,60:3600,120:7200,240:14400,360:21600,480:28800,720:43200};j.UDFCompatibleDatafeed=function(t,e){console.log(1),this._locale=t,this._configuration=void 0,this._symbolSearch=null,this._symbolsStorage=null,this._barsPulseUpdater=new j.DataPulseUpdater(this,e||1e4),this._enableLogging=!0,this._initializationFinished=!1,this._callbacks={},this._currentSubscriptionRecord=null,this._socket=null,this._initialize()},j.UDFCompatibleDatafeed.prototype.defaultConfiguration=function(){return console.log(2),{supports_search:!1,supports_group_request:!0,supported_resolutions:["1","5","15","30","60","1D","1W","1M"],supports_marks:!1,supports_timescale_marks:!1}},j.UDFCompatibleDatafeed.prototype.getServerTime=function(t){console.log(3),this._configuration.supports_time&&this._send({method:"server.time",params:[]},function(e){e.error||t(e.result)})},j.UDFCompatibleDatafeed.prototype.on=function(t,e){return console.log(4),this._callbacks.hasOwnProperty(t)||(this._callbacks[t]=[]),this._callbacks[t].push(e),this},j.UDFCompatibleDatafeed.prototype._fireEvent=function(t,e){if(console.log(5),this._callbacks.hasOwnProperty(t)){for(var s=this._callbacks[t],i=0;i<s.length;++i)s[i](e);this._callbacks[t]=[]}},j.UDFCompatibleDatafeed.prototype.onInitialized=function(){console.log(6),this._initializationFinished=!0,this._fireEvent("initialized")},j.UDFCompatibleDatafeed.prototype._logMessage=function(t){if(this._enableLogging){var e=new Date;console.log(e.toLocaleTimeString()+"."+e.getMilliseconds()+"> "+t)}},j.UDFCompatibleDatafeed.prototype._send=function(t,e,s){console.log(7);var i=new WebSocket(t);i.onopen=function(t){i.send($()(e))},i.onmessage=function(t){s(t.data)}},j.UDFCompatibleDatafeed.prototype._initialize=function(){this._setupWithConfiguration({supports_search:!0,supports_group_request:!1,supports_marks:!1,supports_timescale_marks:!1,supports_time:!1,exchanges:[{value:"weex",name:"weex",desc:"weex exchange"}],symbolsTypes:[{name:"bitcoin",value:"bitcoin"}],supportedResolutions:["1","5","15","30","60","120","240","360","720","D","W","M"]})},j.UDFCompatibleDatafeed.prototype.onReady=function(t){console.log(9);var e=this;this._configuration?setTimeout(function(){t(e._configuration)},0):this.on("configuration_ready",function(){t(e._configuration)})},j.UDFCompatibleDatafeed.prototype._setupWithConfiguration=function(t){console.log(10),this._configuration=t,t.exchanges||(t.exchanges=[]);var e=t.supported_resolutions||t.supportedResolutions;t.supported_resolutions=e;var s=t.symbols_types||t.symbolsTypes;if(t.symbols_types=s,!t.supports_search&&!t.supports_group_request)throw new Error("Unsupported datafeed configuration. Must either support search, or support group request");t.supports_search||(this._symbolSearch=new j.SymbolSearchComponent(this)),t.supports_group_request?this._symbolsStorage=new j.SymbolsStorage(this):this.onInitialized(),this._fireEvent("configuration_ready"),this._logMessage("Initialized with "+$()(t))},j.UDFCompatibleDatafeed.prototype.getMarks=function(t,e,s,i,a){},j.UDFCompatibleDatafeed.prototype.getTimescaleMarks=function(t,e,s,i,a){},j.UDFCompatibleDatafeed.prototype._symbolResolveURL="/symbols",j.UDFCompatibleDatafeed.prototype.resolveSymbol=function(t,e,s){var i=this;if(this._initializationFinished){var a=Date.now();i._logMessage("Resolve requested"),this._configuration.supports_group_request?this._initializationFinished?this._symbolsStorage.resolveSymbol(t,n,s):this.on("initialized",function(){i._symbolsStorage.resolveSymbol(t,n,s)}):setTimeout(function(){var t=/dest=(.*?)($|&)/.exec(location.search);t&&t.length&&(t=t[1]);var e=/currency=(.*?)($|&)/.exec(location.search);e&&e.length&&(e=e[1]),n({name:"BTC",market:"BTC/USD","exchange-traded":"","exchange-listed":"",timezone:"Asia/Shanghai",minmov:1,minmov2:0,pricescale:100,pointvalue:1,fractional:!1,session:"24x7",has_intraday:!0,has_no_volume:!1,ticker:"BTC",description:"BTC/USD",type:"bitcoin",supported_resolutions:["1","5","15","30","60","120","240","360","720","D","W","M"]})},1)}else this.on("initialized",function(){i.resolveSymbol(t,e,s)});function n(t){var s=t;i.postProcessSymbolInfo&&(s=i.postProcessSymbolInfo(s)),i._logMessage("Symbol resolved: "+(Date.now()-a)),e(s)}},j.UDFCompatibleDatafeed.prototype._historyURL="/history",j.UDFCompatibleDatafeed.prototype.getBars=function(t,e,s,i,a,n){if(s>0&&(s+"").length>10)throw new Error(["Got a JS time instead of Unix one.",s,i]);var r=this;if(!this._isGettingBar){this._isGettingBar=!0;var o={method:"kline.query",params:[t.market,s,i,F[e]]};this._send("ws://192.168.1.19:9502",o,function(t){var e=JSON.parse(t);if(e.error)n&&n(e.error);else{r._isGettingBar=!1;var s=e.result,i=0===s.length,o=[],l=i?0:s.length;i||(r.cachedKlines=s);for(var c=0;c<l;++c){var u={time:1e3*s[c][0],close:1*s[c][2]};u.open=1*s[c][1],u.high=1*s[c][3],u.low=1*s[c][4],u.volume=1*s[c][5],o.push(u)}a(o,{noData:i,nextTime:s.nb||s.nextTime})}})}},j.UDFCompatibleDatafeed.prototype.subscribeBars=function(t,e,s,i,a){this._barsPulseUpdater.subscribeDataListener(t,e,s,i,a)},j.UDFCompatibleDatafeed.prototype.unsubscribeBars=function(t){this._barsPulseUpdater.unsubscribeDataListener(t)},j.UDFCompatibleDatafeed.prototype.calculateHistoryDepth=function(t,e,s){},j.DataPulseUpdater=function(t,e){this._datafeed=t,this._subscribers={},this._requestsPending=0;var s=this;setInterval(function(){if(!(s._requestsPending>0))for(var t in s._subscribers){var e=s._subscribers[t],i=e.resolution;this._currentSubscriptionRecord!=e&&(this._currentSubscriptionRecord=e,function(e){s._requestsPending++;var a={method:"kline.subscribe",params:[e.symbolInfo.market,F[i]]};s._datafeed._send("ws://192.168.1.19:9501",a,function(i){if((i=JSON.parse(i)).error)console.error(i.error);else if(s._requestsPending--,i.method){var a=i.params;if(!s._subscribers.hasOwnProperty(t))return;if(0===a.length)return;var n=a[a.length-1],r={time:1e3*n[0],close:1*n[2]};if(r.open=1*n[1],r.high=1*n[3],r.low=1*n[4],r.volume=1*n[5],!isNaN(e.lastBarTime)&&r.time<e.lastBarTime)return;var o=e.listeners;!isNaN(e.lastBarTime)&&(r.time,e.lastBarTime),e.lastBarTime=r.time;for(var l=0;l<o.length;++l)o[l](r)}})}(e))}},e)},j.DataPulseUpdater.prototype.unsubscribeDataListener=function(t){this._datafeed._logMessage("Unsubscribing "+t),delete this._subscribers[t]},j.DataPulseUpdater.prototype.subscribeDataListener=function(t,e,s,i){this._datafeed._logMessage("Subscribing "+i),this._subscribers.hasOwnProperty(i)||(this._subscribers[i]={symbolInfo:t,resolution:e,lastBarTime:NaN,listeners:[]}),this._subscribers[i].listeners.push(s)},j.DataPulseUpdater.prototype.periodLengthSeconds=function(t,e){return 24*("D"===t?e:"M"===t?31*e:"W"===t?7*e:e*t/1440)*60*60};j.UDFCompatibleDatafeed;var E=function(){function t(e){T()(this,t),this.view=e,this.studies=[],this.chartType=1*(localStorage.getItem("tradingview.chartType")||"1"),this.buttons=[{title:"Time",text:"Time",resolution:"1",chartType:3},{title:"1min",text:"1m",resolution:"1",chartType:1},{title:"5min",text:"5m",resolution:"5",chartType:1},{title:"15min",text:"15m",resolution:"15",chartType:1},{title:"30min",text:"30m",resolution:"30",chartType:1},{title:"1hour",text:"1H",resolution:"60",chartType:1},{title:"1day",text:"1D",resolution:"1D",chartType:1},{title:"1week",text:"1W",resolution:"1W",chartType:1},{title:"1month",text:"1M",resolution:"1M",chartType:1}]}return P()(t,[{key:"createButton",value:function(){var t=this;t.widgets=t.view.widget;for(var e=0;e<t.buttons.length;e++)!function(e){var s="en-us"==r.get("think_language")?e.text:e.title;t.widgets.createButton().attr("title",s).addClass("mydate").text(s).on("click",function(s){if(this.parentNode.classList.contains("active"))return!1;localStorage.setItem("tradingview.resolution",e.resolution),localStorage.setItem("tradingview.chartType",e.chartType);var i=this.parentNode.parentNode.querySelector(".active");i&&i.classList.remove("active"),this.parentNode.classList.add("active"),t.widgets.chart().setResolution(e.resolution,function(){}),e.chartType!=t.widgets.chart().chartType()&&(t.widgets.chart().setChartType(e.chartType),t.toggleStudy(e.chartType))}).parent().addClass("my-group"+(e.resolution==t.view.interval&&e.chartType==t.chartType?" active":""))}(t.buttons[e])}},{key:"toggleStudy",value:function(t){this.widgets=this.view.widget;for(var e=3==t?0:1,s=0;s<this.studies.length;s++)this.widgets.chart().getStudyById(this.studies[s]).setVisible(e)}},{key:"createStudy",value:function(){var t=void 0;this.widgets=this.view.widget,t=this.widgets.chart().createStudy("Moving Average",!1,!1,[5],null,{"Plot.color":"rgb(150, 95, 196)"}),this.studies.push(t),t=this.widgets.chart().createStudy("Moving Average",!1,!1,[10],null,{"Plot.color":"rgb(116,149,187)"}),this.studies.push(t),t=this.widgets.chart().createStudy("Moving Average",!1,!1,[20],null,{"plot.color":"rgb(58,113,74)"}),this.studies.push(t),t=this.widgets.chart().createStudy("Moving Average",!1,!1,[30],null,{"plot.color":"rgb(118,32,99)"}),this.studies.push(t)}},{key:"getOverrides",value:function(t){var e={white:{up:"#03c087",down:"#ef5555",bg:"#ffffff",grid:"#fafafa",cross:"#23283D",border:"#9194a4",text:"#9194a4",areatop:"rgba(71, 78, 112, 0.1)",areadown:"rgba(71, 78, 112, 0.02)",line:"#737375",showLegend:!0},black:{up:"#589065",down:"#ae4e54",bg:"#181820",grid:"#1b1b23",cross:"#9194A3",border:"#4e5b85",text:"#41486A",areatop:"rgba(122, 152, 247, .1)",areadown:"rgba(122, 152, 247, .02)",line:"#737375",showLegend:!0},mobile:{up:"#03C087",down:"#E76D42",bg:"#ffffff",grid:"#f7f8fa",cross:"#23283D",border:"#C5CFD5",text:"#8C9FAD",areatop:"rgba(71, 78, 112, 0.1)",areadown:"rgba(71, 78, 112, 0.02)",showLegend:!0}}[t];return{volumePaneSize:"medium","scalesProperties.lineColor":e.text,"scalesProperties.textColor":e.text,"paneProperties.background":e.bg,"paneProperties.vertGridProperties.color":e.grid,"paneProperties.horzGridProperties.color":e.grid,"paneProperties.crossHairProperties.color":e.cross,"paneProperties.legendProperties.showLegend":!!e.showLegend,"paneProperties.legendProperties.showStudyArguments":!0,"paneProperties.legendProperties.showStudyTitles":!0,"paneProperties.legendProperties.showStudyValues":!0,"paneProperties.legendProperties.showSeriesTitle":!0,"paneProperties.legendProperties.showSeriesOHLC":!0,"mainSeriesProperties.candleStyle.upColor":e.up,"mainSeriesProperties.candleStyle.downColor":e.down,"mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.borderColor":e.border,"mainSeriesProperties.candleStyle.borderUpColor":e.up,"mainSeriesProperties.candleStyle.borderDownColor":e.down,"mainSeriesProperties.candleStyle.wickUpColor":e.up,"mainSeriesProperties.candleStyle.wickDownColor":e.down,"mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.hollowCandleStyle.upColor":e.up,"mainSeriesProperties.hollowCandleStyle.downColor":e.down,"mainSeriesProperties.hollowCandleStyle.drawWick":!0,"mainSeriesProperties.hollowCandleStyle.drawBorder":!0,"mainSeriesProperties.hollowCandleStyle.borderColor":e.border,"mainSeriesProperties.hollowCandleStyle.borderUpColor":e.up,"mainSeriesProperties.hollowCandleStyle.borderDownColor":e.down,"mainSeriesProperties.hollowCandleStyle.wickColor":e.line,"mainSeriesProperties.haStyle.upColor":e.up,"mainSeriesProperties.haStyle.downColor":e.down,"mainSeriesProperties.haStyle.drawWick":!0,"mainSeriesProperties.haStyle.drawBorder":!0,"mainSeriesProperties.haStyle.borderColor":e.border,"mainSeriesProperties.haStyle.borderUpColor":e.up,"mainSeriesProperties.haStyle.borderDownColor":e.down,"mainSeriesProperties.haStyle.wickColor":e.border,"mainSeriesProperties.haStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.upColor":e.up,"mainSeriesProperties.barStyle.downColor":e.down,"mainSeriesProperties.barStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.barStyle.dontDrawOpen":!1,"mainSeriesProperties.lineStyle.color":e.border,"mainSeriesProperties.lineStyle.linewidth":1,"mainSeriesProperties.lineStyle.priceSource":"close","mainSeriesProperties.areaStyle.color1":e.areatop,"mainSeriesProperties.areaStyle.color2":e.areadown,"mainSeriesProperties.areaStyle.linecolor":e.border,"mainSeriesProperties.areaStyle.linewidth":1,"mainSeriesProperties.areaStyle.priceSource":"close"}}},{key:"getStudiesOverrides",value:function(t){var e={white:{c0:"#eb4d5c",c1:"#53b987",t:70,v:!1},black:{c0:"#fd8b8b",c1:"#3cb595",t:70,v:!1}}[t];return{"volume.volume.color.0":e.c0,"volume.volume.color.1":e.c1,"volume.volume.transparency":e.t}}},{key:"resetTheme",value:function(t){this.widgets.addCustomCSSFile("./css/tradingview_"+t+".css"),this.widgets.applyOverrides(this.getOverrides(t)),this.widgets.applyStudiesOverrides(this.getStudiesOverrides(t))}}]),t}(),A=function(){function t(e){T()(this,t),this.self=e,this.socket=this.self.socket,this.init(),this.initCoinlist=!1,this.setSocketAssetNum=0}return P()(t,[{key:"init",value:function(){var t=this;setInterval(function(){t.getCoinList(),t.getPendings(),t.getLatest()},3e3),setInterval(function(){t.getCoinListSub()},6e4)}},{key:"getCoinList",value:function(){var t=this.self,e={},s=[],i={},a={market:t.$store.state.marketInfo.market};t.axios.post(t.$store.state.localhost+"/Pro/getJsonTop?market="+t.$store.state.marketInfo.market,a).then(function(n){e=n.data.list;var r=t.$store.state.marketInfo.round,o=t.$store.state.marketInfo.p_round,l=n.data.info,c={amount:0,high:(1*l.max_price).toFixed(o),id:0,low:(1*l.min_price).toFixed(o),price:(1*l.new_price).toFixed(o),rate:(1*l.change).toFixed(2),volume:(1*l.volume).toFixed(r),name:""};for(var u in e){u==a.market&&(c.id=e[u].id,t.$store.commit("changeSocketTopic",c)),e[u].hide=!1;var d=u;i[d]||(i[d]=!1),s.push(e[u])}t.$store.commit("changeSocketCoinList",s),t.$store.commit("setCoinlist",e),t.$store.commit("setFav",i),t.initCoinlist=!0})}},{key:"getPendings",value:function(){var t=this,e=this.self;e.$store.state.marketInfo.market;e.axios.get(e.$store.state.localhost+"/Pro/getPendingOrders?market="+e.$store.state.marketInfo.market).then(function(s){e.$store.state.marketInfo.round,e.$store.state.marketInfo.p_round;s.data.depth&&(t.setSocketAssetDepth(s.data.depth),s.data.depth.buy&&t.setSocketPendingOrderBuy(s.data.depth.buy),s.data.depth.sell&&t.setSocketPendingOrderSell(s.data.depth.sell),s.data.depth.buy||e.$store.commit("changeSocketPendingOrderBuy",[]),s.data.depth.sell||e.$store.commit("changeSocketPendingOrderSell",[]))})}},{key:"getLatest",value:function(){var t=this,e=this.self,s={market:e.$store.state.marketInfo.market};e.axios.post(e.$store.state.localhost+"/Pro/getTradelog?market="+e.$store.state.marketInfo.market,s).then(function(s){e.$store.state.marketInfo.round,e.$store.state.marketInfo.p_round;s.data.tradelog&&t.setSocketLatestdeal(s.data.tradelog)})}},{key:"getCoinListSub",value:function(){var t=this.self,e={},s=[],i={},a={market:t.$store.state.marketInfo.market};t.axios.post(t.$store.state.localhost+"/Pro/getJsonTop",a).then(function(n){e=n.data.list;var r=t.$store.state.marketInfo.round,o=t.$store.state.marketInfo.p_round,l=n.data.info,c={amount:0,high:(1*l.max_price).toFixed(o),id:0,low:(1*l.min_price).toFixed(o),price:(1*l.new_price).toFixed(o),rate:(1*l.change).toFixed(2),volume:(1*l.volume).toFixed(r),name:""};for(var u in e){u==a.market&&(c.id=e[u].id,t.$store.commit("changeSocketTopic",c)),e[u].hide=!1;var d=u;i[d]||(i[d]=!1),s.push(e[u])}t.$store.commit("changeSocketCoinList",s)})}},{key:"getFav",value:function(){var t=this.self,e={userId:t.$store.state.userInfo.userid,token:t.$store.state.userInfo.token};if(!t.$store.state.userInfo.userid)return!1;var s={},i=t.$store.state.socketCoinList;for(var a in i)s[a]||(s[a]=!1);t.axios.post(t.$store.state.servicehost+"/user/v1star/action/find",e).then(function(e){e.data.data&&e.data.data.length&&e.data.data.market.forEach(function(t){s[t.coin]=1}),t.$store.commit("setFav",s)})}},{key:"onMessage",value:function(t){var e=this,s=this.self;t.type,"coinlist"==t.r&&t.s&&t.list&&(this.initCoinlist?this.setSocketCoinList(t.list):setTimeout(function(){e.setSocketCoinList(t.list)},1e3)),"exchange"==t.r&&t.s&&t.list&&this.setSocketLatestdeal(t.list),"entrust"==t.r&&t.s&&(t.buy&&t.buy.length&&this.setSocketPendingOrderBuy(t.buy),t.sell&&t.sell.length&&this.setSocketPendingOrderSell(t.sell),t.buy||s.$store.commit("changeSocketPendingOrderBuy",[]),t.sell||s.$store.commit("changeSocketPendingOrderSell",[])),"userInfo"==t.r&&t.s&&this.setSocketAsset(t),"depth"==t.r&&t.s&&this.setSocketAssetDepth(t)}},{key:"setSocketLatestdeal",value:function(t){for(var e=this.self,s=e.$store.state.socketLatestdeal,i=e.$store.state.marketInfo.round,a=e.$store.state.marketInfo.p_round,n=0;n<t.length;n++){var r={};r.type=t[n].type,r.time=t[n].time,r.price=(1*t[n].price).toFixed(a),r.volume=(1*t[n].num).toFixed(i),r.amount=(t[n].price*t[n].num*1).toFixed(2),s.unshift(r),s.length>35&&s.splice(s.length-1,1)}e.$store.commit("changeSocketLatestdeal",s),e.$store.commit("setTradeNicePrice",t[t.length-1].price)}},{key:"setSocketPendingOrderBuy",value:function(t){var e=this.self,s=[],i=e.$store.state.marketInfo.round,a=e.$store.state.marketInfo.p_round,n=e.$store.state.entrustDepth;n=n<0?0:n;for(var r=0;r<t.length;r++){var o={};o.price=(1*t[r].price).toFixed(n),o.volume=(1*t[r].volume).toFixed(i),o.amount=(1*t[r].amount).toFixed(2),s.push(o),s.length>30&&s.splice(30,1)}e.$store.commit("changeSocketPendingOrderBuy",s),0==e.$store.state.tradeNicePriceSell&&e.$store.commit("setTradeNicePriceSell",(1*s[0].price).toFixed(a))}},{key:"setSocketPendingOrderSell",value:function(t){var e=this.self,s=[],i=e.$store.state.marketInfo.round,a=(e.$store.state.marketInfo.p_round,e.$store.state.entrustDepth);a=a<0?0:a;for(var n=t.length-1;n>=0;n--){var r={};r.price=(1*t[n].price).toFixed(a),r.volume=(1*t[n].volume).toFixed(i),r.amount=(1*t[n].amount).toFixed(2),s.push(r),s.length>30&&s.splice(0,1)}e.$store.commit("changeSocketPendingOrderSell",s),e.$store.state.tradeNicePriceBuy}},{key:"setSocketCoinList",value:function(t){var e=this.self,s=e.$store.state.socketCoinList,i=e.$store.state.marketInfo.market,a=e.$store.state.socketTopic,n=(e.$store.state.marketInfo.round,e.$store.state.marketInfo.p_round);s.forEach(function(e){for(var s=0;s<t.length;s++){var r=t[s];e.id==r.id&&(e.change=(100*r.rate).toFixed(2),e.new_price=r.price,e.name==i&&(a.volume=(1*r.volume).toFixed(n),a.rate=(100*r.rate).toFixed(2),a.price=(1*r.price).toFixed(n),a.low=(1*r.low).toFixed(n),a.high=(1*r.high).toFixed(n),a.amount=(1*r.amount).toFixed(n)))}}),e.$store.commit("changeSocketTopic",a),e.$store.commit("changeSocketCoinList",s)}},{key:"setSocketAsset",value:function(t){var e=this,s=this.self,i=s.$store.state.socketAsset;if(!t.addEntrust&&!t.removeEntrust&&!t.updateEntrust)return!1;if(!i.length&&s.setSocketAssetNum<10)return s.setSocketAssetNum++,setTimeout(function(){e.setSocketAsset(t)},1e3),!1;var a=s.$store.state.marketInfo.round,n=s.$store.state.marketInfo.p_round;if(t.addEntrust&&t.addEntrust.length)for(var r=0;r<t.addEntrust.length;r++){var o=t.addEntrust[r],l={id:o.id,time:this.formatFullTime(o.time),type:0==o.type?1:2,price:(1*o.price).toFixed(n),volume:(1*o.num).toFixed(a),amount:(o.num*o.price).toFixed(n)};i.unshift(l)}if(t.removeEntrust&&t.removeEntrust.length)for(r=0;r<t.removeEntrust.length;r++)for(var c=t.removeEntrust[r],u=0;u<i.length;u++)i[u].id==c&&i.splice(u,1);if(t.updateEntrust&&t.updateEntrust.length)for(r=0;r<t.updateEntrust.length;r++)for(var d=t.updateEntrust[r],h=0;h<i.length;h++)i[h].id==d.id&&(i[h].volume=(1*d.deal).toFixed(a),i[h].amount=(i[h].volume*i[h].price).toFixed(n));s.$store.commit("changeSocketAsset",i)}},{key:"setSocketAssetDepth",value:function(t){var e=this.self;t.price||(t.price=0),t.buy||(t.buy=[{price:.99*t.price,volume:0}]),t.sell||(t.sell=[{price:1.01*t.price,volume:0}]);for(var s=[],i=[],a=0,n=0,r=0;r<t.buy.length;r++){var o=t.buy[r];a+=o.volume,s.push({price:o.price,volume:(1*a).toFixed(4)})}for(var l=0;l<t.sell.length;l++){var c=t.sell[l];n+=c.volume,i.push({price:c.price,volume:(1*n).toFixed(4)})}t.buy=s,t.sell=i,e.$store.commit("changeSocketDepth",t)}},{key:"sendMessage",value:function(t){var e=this;this.socket||(this.socket=this.self.socket),this.socket.checkOpen()?this.socket.send(t):this.socket.on("open",function(){e.socket.send(t)})}},{key:"formatTime",value:function(t){var e=new Date(t),s=e.getHours(),i=e.getMinutes(),a=e.getSeconds();return(s=s<10?"0"+s:s)+":"+(i=i<10?"0"+i:i)+":"+(a=a<10?"0"+a:a)}},{key:"formatFullTime",value:function(t){var e=new Date(t),s=e.getFullYear(),i=e.getMonth()+1,a=e.getDate(),n=e.getHours(),r=e.getMinutes(),o=e.getSeconds();return s+"-"+(i=i<10?"0"+i:i)+"-"+(a=a<10?"0"+a:a)+" "+(n=n<10?"0"+n:n)+":"+(r=r<10?"0"+r:r)+":"+(o=o<10?"0"+o:o)}}]),t}(),U={props:{symbol:{type:String,default:"BTCUSD"},initMarket:{type:Boolean,default:!1}},data:function(){return{widget:null,socket:null,datafeeds:new B(this),config:new E(this),interval:null,cacheData:{},cacheDataHistory:{},lastTime:null,getUserInfoNum:0,getBarTimer:null,isLoading:!0}},created:function(){var t=this;if(this.loading=!1,this.$store.commit("addTradingviewConfig",this.config),this.interval=localStorage.getItem("tradingview.resolution")||"5",this.$store.commit("setUpdate",new A(this)),this.init(this.symbol,this.interval),this.initMarket){var e=this.$store.state.marketInfo.ws;this.socket=new I(e),this.socket.doOpen(),this.socket.on("open",function(){t.socket.send({type:"login",symbol:t.symbol})}),this.socket.on("message",this.onMessage),this.socket.on("close",this.onClose),this.runTimeUpdate();var s=localStorage.getItem("tradingview.resolution")||"5";this.init(this.symbol,s)}},watch:{initMarketx:function(){var t=this,e=this.$store.state.marketInfo.ws;this.socket=new I(e),this.socket.doOpen(),this.socket.on("open",function(){t.socket.send({type:"login",symbol:t.symbol})}),this.socket.on("message",this.onMessage),this.socket.on("close",this.onClose),this.runTimeUpdate();var s=localStorage.getItem("tradingview.resolution")||"5";this.init(this.symbol,s)}},methods:{init:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0],arguments.length>1&&void 0!==arguments[1]&&arguments[1];var t=this.$store.state.skin;this.$store.state.language.split("-")[0],this.config.getOverrides(t),this.config.getStudiesOverrides(t)},onChartReady:function(t){var e=this;e.config.loading=!0,e.config.createStudy(),e.config.createButton(e.config.buttons),e.widget.chart().setChartType(e.config.chartType),e.config.toggleStudy(e.config.chartType),t!=e.$store.state.skin&&(t=e.$store.state.skin),setTimeout(function(){e.config.resetTheme(t)},0),setTimeout(function(){e.$emit("loadingView",1)},0)},sendMessage:function(t){var e=this;this.socket.checkOpen()?this.socket.send(t):this.socket.on("open",function(){e.socket.send(t)})},runTimeUpdate:function(){var t=this,e=new Date,s=e.getSeconds(),i=e.getMilliseconds();setTimeout(function(){t.runtime()},6e4-1e3*s-i)},runtime:function(){if(this.lastTime){var t=10*parseInt((new Date).getTime()/10),e=this.lastTime,s=6e4;if(this.interval<=60?s=6e4*this.interval:"D"==this.interval||"1D"==this.interval?s=864e5:"W"==this.interval||"1W"==this.interval?s=6048e5:"M"!=this.interval&&"1M"!=this.interval||(s=2592e6),e&&t-e>=s){var i=this.symbol+"-"+this.interval,a=this.cacheData[i][this.cacheData[i].length-1],n={time:e+s,open:a.close,high:a.close,low:a.close,close:a.close,volume:0};this.cacheData[i].push(n),this.lastTime=n.time,this.datafeeds.barsUpdater.updateData()}}this.runTimeUpdate()},getHistory:function(t,e){var s=this.interval;"W"!=this.interval&&"1W"!=this.interval&&"M"!=this.interval&&"1M"!=this.interval||(s="1D"),this.cacheData.from=t,this.sendMessage({type:"kline_query",resolution:s,from:t,to:e})},getSubscribe:function(){var t=this.interval;"W"!=this.interval&&"1W"!=this.interval&&"M"!=this.interval&&"1M"!=this.interval||(t="1D"),this.sendMessage({type:"kline_sub",resolution:t})},getCoinList:function(){this.sendMessage({type:"coinlist"})},getExchange:function(){this.sendMessage({type:"exchange"})},getEntrust:function(){var t=this.$store.state.entrustDepth;this.sendMessage({type:"entrust",resolution:t})},getDepth:function(){this.sendMessage({type:"depth"})},getUserInfo:function(){var t=this;if(this.getUserInfoNum++,this.getUserInfoNum>10)return!1;""!=this.$store.state.userInfo.userid?this.sendMessage({type:"userInfo",userId:this.$store.state.userInfo.userid,token:this.$store.state.userInfo.token}):setTimeout(function(){t.getUserInfo()},1e3)},loginInit:function(){var t=Date.now();this.interval<=60?t-=864e6:t-=124416e6,this.getSubscribe(),this.getHistory(t,Date.now()),this.getCoinList(),this.getExchange(),this.getEntrust(),this.getDepth(),this.getUserInfo()},onMessage:function(t){if("login"==t.r&&t.s)return this.$store.commit("changeSocketState",!0),this.loginInit(),!1;if("kline_query"==t.r&&t.s&&t.t.length){var e=[],s=this.symbol+"-"+this.interval,i=0;i=this.interval<=60?60*this.interval*1e3:864e5;for(var a=0,n=t.t[0];n<=t.to;n+=i){var r=!1;(n<t.t[a]||void 0==t.t[a])&&(r=!0,a--),e.push({time:n,open:r?t.c[a]:t.o[a],high:r?t.c[a]:t.h[a],low:r?t.c[a]:t.l[a],close:t.c[a],volume:r?0:t.v[a]}),a++}if(!e.length)return this.cacheData[s+"noData"]=!0,!1;this.cacheData[s]?this.cacheDataHistory[s]=e:(this.cacheData[s]=e,this.lastTime=e[e.length-1].time)}if("kline_query"==t.r&&t.s&&!t.t.length){var o=this.symbol+"-"+this.interval;this.cacheData[o+"noData"]=!0}if("kline_sub"==t.r&&t.s&&this.lastTime){document.title=1*t.c+" "+this.symbol.toLocaleUpperCase().replace(/_/,"/")+"T ";var l=this.symbol+"-"+this.interval,c={time:t.t,open:t.o,high:t.h,low:t.l,close:t.c,volume:t.v};c.time>this.lastTime&&this.cacheData[l]&&this.cacheData[l].length?(this.cacheData[l].push(c),this.lastTime=c.time):c.time==this.lastTime&&this.cacheData[l]&&this.cacheData[l].length&&(this.cacheData[l][this.cacheData[l].length-1]=c),this.datafeeds.barsUpdater.updateData()}else if("kline_sub"==t.r&&t.s&&!this.lastTime){document.title=1*t.c+" "+this.symbol.toLocaleUpperCase().replace(/_/,"/")+"T ";var u=this.symbol+"-"+this.interval,d={time:t.t,open:t.o,high:t.h,low:t.l,close:t.c,volume:t.v};this.cacheData[u]=[d],this.lastTime=d.time,this.datafeeds.barsUpdater.updateData()}this.$store.state.update.onMessage(t)},onClose:function(){var t=this;t.socket.doOpen(),t.socket.on("open",function(){t.socket.send({type:"login",symbol:t.symbol})})},getBars:function(t,e,s,i,a){if(e=localStorage.getItem("tradingview.resolution")||5,this.interval!==e){this.interval=e;this.symbol,this.interval;var n=this.symbol+"-"+e;this.lastTime=null,this.cacheData[n]=null,this.cacheDataHistory[n]=null,this.cacheData[n+"noData"]=!1,this.getHistory(1e3*s,1e3*(i-60)),this.isLoading=!0,this.getSubscribe()}var r=this.symbol+"-"+this.interval;if(this.cacheData[r]&&this.cacheData[r].length){var o=[];if(this.cacheDataHistory[r]&&this.cacheDataHistory[r].length&&this.cacheDataHistory[r].forEach(function(t){t.time>=1e3*s&&t.time<=1e3*i&&o.push(t)}),this.cacheData[r].forEach(function(t){t.time>=1e3*s&&t.time<=1e3*i&&o.push(t)}),this.cacheData.from>1e3*s){this.getHistory(1e3*s,this.cacheData.from);var l=this;return this.getBarTimer=setTimeout(function(){l.getBars(t,e,s,i,a)},50),!1}if(o.length)this.isLoading=!1,a(o);else{if(this.isLoading){if(this.cacheData[r+"noData"])return a({noData:!0}),!1}else this.cacheData[r+"noData"]=!1,this.getHistory(1e3*s,1e3*i),this.isLoading=!0;var c=this;this.getBarTimer=setTimeout(function(){c.getBars(t,e,s,i,a)},50)}}else{var u=this;if(this.cacheData[r+"noData"])return a({noData:!0}),!1;this.getBarTimer=setTimeout(function(){u.getBars(t,e,s,i,a)},10)}}}},O={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"c2c-tradingview",attrs:{id:"tradingview_e47e3"}})},staticRenderFns:[]},R=s("VU/8")(U,O,!1,null,null,null).exports,V={name:"Depth",props:{datalist:{type:Object,default:function(){return{sell:[],buy:[],price:0}}},resize:{type:Number,default:0},skin:{type:String,default:"white"},show:{type:Number,default:1}},mounted:function(){this.getData()},data:function(){return{$box:null,$chart:null,$mask:null,canvas1:null,ctx1:null,canvas2:null,ctx2:null,cwidth:null,cheight:null,now_price:0,newAxis:null,config:{white:{bg:"#ffffff",color:"#666",circle:"rgba(0,182,183,0.5)",shadowColor:"#aaa",lineColor:"#9194a4"},black:{bg:"#1f2941",color:"#aaa",circle:"rgba(0,255,255,0.5)",shadowColor:"#000",lineColor:"#41486A"}}}},watch:{resize:function(){this.resize>0&&this.getData()},skin:function(){this.getData()},datalist:function(){this.getData()},show:function(){this.getData()}},methods:{getData:function(){if(2!=this.show)return!1;var t=this.datalist;(t.buy&&t.buy.length||t.sell.length&&t.sell)&&this.init()},init:function(){var t=this,e=(new Date).getTime();t.$box=t.$refs.chart_box,t.$chart=t.$refs.chart,t.$mask=t.$refs.chart_mask,t.canvas1=t.$chart,t.canvas2=t.$mask,t.canvas1.width=t.$box.offsetWidth,t.canvas1.height=t.$box.offsetHeight,t.ctx1=t.canvas1.getContext("2d"),t.canvas2.width=t.$box.offsetWidth,t.canvas2.height=t.$box.offsetHeight,t.ctx2=t.canvas2.getContext("2d"),t.cwidth=t.canvas2.width,t.cheight=t.canvas2.height-23;var s=t.datalist,i=t.initAxis(s);t.cwidth=t.canvas2.width-(t.ctx1.measureText(i.axis.y1.toFixed(2)).width>>0)-12,t.draw(i);var a=t.offset(t.$mask).left,n=t.offset(t.$mask).top;t.$mask.onmousemove=function(e){var s=e.pageX,r=e.pageY,o={x:s-a,y:r-n};t.drawMask(o,i)},t.$mask.onmouseout=function(e){t.ctx2.clearRect(0,0,t.canvas2.width,t.canvas2.height)};var r=(new Date).getTime();console.log(">> canvas time: ",r-e)},draw:function(t){this.ctx1.clearRect(0,0,this.canvas1.width,this.canvas1.height),this.ctx1.fillStyle=this.config[this.skin].bg,this.ctx1.fillRect(0,0,this.canvas1.width,this.canvas1.height),this.newAxis=this.drawAxis(t.axis),this.drawBuys(t,this.newAxis),this.drawSells(t,this.newAxis)},drawAxis:function(t){this.ctx1.strokeStyle=this.config[this.skin].lineColor,this.ctx1.lineWidth=1,this.ctx1.beginPath(),this.ctx1.translate(.5,.5),this.ctx1.moveTo(0,this.cheight),this.ctx1.lineTo(this.cwidth,this.cheight),this.ctx1.lineTo(this.cwidth,0),this.ctx1.stroke(),this.ctx1.closePath(),this.ctx1.font="12px",this.ctx1.fillStyle=this.config[this.skin].lineColor;for(var e=[],s=[],i=this.cwidth/5,a=this.cheight/6,n=t.x1-t.x0,r=0;r<5;r++)e.push((1*(t.x0+n/5*(r+.5))).toFixed(this.$store.state.marketInfo.p_round));for(var o=t.y1,l=0;l<6;l++)s.push((o/6*l).toFixed(2));var c=[];if(1*s[s.length-1]>1e3)for(var u=0;u<s.length;u++)c.push(this.format(s[u]));else c=s;for(var d=0;d<e.length;d++)this.ctx1.fillText(e[d],i*(d+.5)-this.ctx1.measureText(e[d]).width/2,this.cheight+16),this.ctx1.beginPath(),this.ctx1.moveTo(i*(d+.5),this.cheight+1),this.ctx1.lineTo(i*(d+.5),this.cheight+5),this.ctx1.stroke(),this.ctx1.closePath();for(var h=0;h<s.length;h++)this.ctx1.fillText(c[h],this.cwidth+6,this.cheight-a*h+4),this.ctx1.beginPath(),this.ctx1.moveTo(this.cwidth,this.cheight-a*h),this.ctx1.lineTo(this.cwidth+4,this.cheight-a*h),this.ctx1.stroke(),this.ctx1.closePath();return this.ctx1.translate(-.5,-.5),{xL:5,yL:6,xN:i,yN:a,xAxis:e,yAxis:s,_xAxis:n,_yAxis:o}},drawBuys:function(t,e){this.ctx1.fillStyle="rgba(60,181,149,0.2)";var s=t.buys;this.ctx1.lineWidth=1,this.ctx1.beginPath();for(var i={x:0,y:0},a={x:0,y:0},n=!0,r=0;r<s.length;r++)i=this.transform(s[r],t.axis,e),n&&0!=s[r].volume&&(n=!1,this.ctx1.moveTo(i.x,this.cheight)),0!=s[r].volume&&(this.ctx1.lineTo(i.x,i.y),a=i);this.ctx1.lineTo(a.x,this.cheight),this.ctx1.closePath(),this.ctx1.fill()},drawSells:function(t,e){this.ctx1.fillStyle="rgba(248,129,132,0.2)";var s=t.sells;this.ctx1.lineWidth=1,this.ctx1.beginPath();for(var i={x:0,y:0},a={x:0,y:0},n=!0,r=0;r<s.length;r++)i=this.transform(s[r],t.axis,e),n&&0!=s[r].volume&&(n=!1,this.ctx1.moveTo(i.x,this.cheight)),0!=s[r].volume&&(this.ctx1.lineTo(i.x,i.y),a=i);this.ctx1.lineTo(a.x,this.cheight),this.ctx1.closePath(),this.ctx1.fill()},initAxis:function(t){var e,s,i=[],a=[],n=[];for(var r in e=t.sell.insertSort(function(t,e){return t.price>e.price}),s=t.buy.insertSort(function(t,e){return t.price>e.price}),e)a.push(e[r].price),n.push(e[r].volume),i.push({price:e[r].price,volume:e[r].volume});for(var o in a.push(t.price),n.push(0),i.push({price:t.price,volume:0}),s)a.push(s[o].price),n.push(s[o].volume),i.push({price:s[o].price,volume:s[o].volume});return a.insertSort(function(t,e){return t>e}),n.insertSort(function(t,e){return t>e}),i.insertSort(function(t,e){return t.price>e.price}),{axis:{x0:a[0],x1:a[a.length-1],y0:n[0],y1:1.1*n[n.length-1]},sells:e,buys:s,prices:a,volumes:n,allData:i}},transform:function(t,e,s){var i=s._xAxis,a=s._yAxis,n=this.cwidth,r=this.cheight,o=t.price-e.x0,l=t.volume;return{x:(n/i*o).toFixed(2),y:(r-r/a*l).toFixed(2)}},drawMask:function(t,e){for(var s=e.axis.x0,i=e.axis.x1-s,a=e.prices,n=e.volumes,r=e.allData,o=t.x,l=(t.y,o/this.cwidth*i+s),c=(n[0],0),u=0;u<a.length;u++)0==u&&l>=a[u]&&(c=u),u>0&&l>=(a[u]+a[u-1])/2&&(c=u);if(this.ctx2.clearRect(0,0,this.canvas2.width,this.canvas2.height),o<0||o>this.cwidth||0==r[c].price||0==r[c].volume)return!1;var d,h;d=(a[c]-s)/i*this.cwidth,h=this.cheight-r[c].volume/(1.1*n[n.length-1])*this.cheight,this.ctx2.beginPath(),this.ctx2.fillStyle=this.config[this.skin].circle,this.ctx2.strokeStyle=this.config[this.skin].circle,this.ctx2.arc(d,h,3,0,2*Math.PI),this.ctx2.stroke(),this.ctx2.fill(),this.ctx2.beginPath(),this.ctx2.arc(d,h,6,0,2*Math.PI),this.ctx2.stroke(),this.ctx2.fill();var p=void 0,m=void 0;m=h-60-10,p=(p=d-80)<2?2:p>this.cwidth-2-160?this.cwidth-2-160:p,m=m<2?h+12:m,this.ctx2.beginPath(),this.ctx2.roundRect(p,m,160,60,3),this.ctx2.shadowBlur=2,this.ctx2.shadowOffsetY=1,this.ctx2.shadowColor=this.config[this.skin].shadowColor,this.ctx2.fillStyle=this.config[this.skin].bg,this.ctx2.fill(),this.ctx2.beginPath();var f=this.$lang.coinlistPrice+"："+r[c].price,v=this.$lang.depthAmount+"："+r[c].volume;this.ctx2.shadowBlur=0,this.ctx2.shadowOffsetY=0,this.ctx2.shadowColor="transparent",this.ctx2.font="18px",this.ctx2.fillStyle=this.config[this.skin].color,this.ctx2.fillText(f,p+10,m+25),this.ctx2.fillText(v,p+10,m+45)},format:function(t){return(t*=1)<1e6?(t/1e3).toFixed(2)+"K":t>=1e6&&t<1e9?(t/1e3/1e3).toFixed(2)+"M":t>=1e9?(t/1e3/1e3/1e3).toFixed(2)+"B":void 0},offset:function(t){for(var e={left:t.offsetLeft,top:t.offsetTop,width:t.offsetWidth,height:t.offsetHeight};t!=document.body;)t=t.offsetParent,e.left+=t.offsetLeft,e.top+=t.offsetTop;return e}}},z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{ref:"chart_box",attrs:{id:"chart_box"}},[e("canvas",{ref:"chart",attrs:{id:"chart"}}),this._v(" "),e("canvas",{ref:"chart_mask",attrs:{id:"chart_mask"}})])},staticRenderFns:[]};var W={name:"Kline",components:{TradeView:R,Depth:s("VU/8")(V,z,!1,function(t){s("HTxz")},null,null).exports},data:function(){return{loading:!1,symbol:this.$store.state.marketInfo.market,tabs:{asset:1}}},methods:{loadingView:function(t){this.loading=t},tabChange:function(t){if(t==this.tabs.asset)return!1;this.tabs.asset=t}}},H={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-tab-box trade-unit-box clearfix"},[s("h3",{staticClass:"trade-view-title tophdark"},[s("ul",{staticClass:"flex-box"},[s("li",{staticClass:"flex-item-8 text-overflow"},[s("span",{staticClass:"trade-bi-icon"},[t.$store.state.marketInfo.img?s("img",{attrs:{src:t.$store.state.localhost+"/Upload/coin/"+t.$store.state.marketInfo.img}}):t._e(),s("span",[t._v(t._s("zh-cn"==t.$store.state.language?t.$store.state.marketInfo.title:t.$store.state.marketInfo.title.replace(/(.*)\((.*)\//g,"$2($2/")))])]),t._v(" "),t.$store.state.coinlist[t.$store.state.marketInfo.market]&&1==t.$store.state.coinlist[t.$store.state.marketInfo.market].main_coin?s("span",{staticClass:"dblb trade-bi-icon-area lh1375 font12"},[t._v(t._s(t.$lang.coinlistMain))]):t._e(),t._v(" "),t.$store.state.coinlist[t.$store.state.marketInfo.market]&&0==t.$store.state.coinlist[t.$store.state.marketInfo.market].main_coin?s("span",{staticClass:"dblb trade-bi-icon-area lh1375 font12"},[t._v(t._s(t.$lang.coinlistInnovation))]):t._e(),t._v(" "),t.$store.state.coinlist[t.$store.state.marketInfo.market]&&2==t.$store.state.coinlist[t.$store.state.marketInfo.market].main_coin?s("span",{staticClass:"dblb trade-bi-icon-area lh1375 font12"},[t._v(t._s(t.$lang.coinlistExperiment))]):t._e()]),t._v(" "),s("li",{staticClass:"flex-item-2 text-nowrap"},[s("div",{staticClass:"tr pr3-important"},[s("span",{class:(1==t.tabs.asset?"c00ffff ":"")+"mouseover darkgray",on:{click:function(e){return t.tabChange(1)}}},[t._v(t._s(t.$lang.kline))]),t._v(" "),s("span",{class:(2==t.tabs.asset?"c00ffff ":"")+"mouseover ml5 darkgray",on:{click:function(e){return t.tabChange(2)}}},[t._v(t._s(t.$lang.assetDepth))]),t._v(" "),t._m(0)])])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1==t.tabs.asset,expression:"tabs.asset == 1"}],staticClass:"trade-view-box"},[s("iframe",{staticStyle:{width:"100%",height:"500px",border:"none"},attrs:{src:t.$store.state.localhost+"/Trade/tradingview/?skin="+t.$store.state.skin+"&market="+t.$store.state.marketInfo.market}}),t._v(" "),s("div",{staticClass:"hide"},[s("trade-view",{ref:"trade",attrs:{symbol:t.symbol,initMarket:t.$store.state.initMarket},on:{loadingView:t.loadingView}})],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:2==t.tabs.asset,expression:"tabs.asset == 2"}],staticClass:"c2c-tradingview"},[s("Depth",{attrs:{show:t.tabs.asset,datalist:t.$store.state.socketDepth,skin:t.$store.state.skin,resize:t.$store.state.resize}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"move"},[e("img",{attrs:{src:s("3GdG")}})])}]},q=s("VU/8")(W,H,!1,null,null,null).exports,G={name:"Button",props:{text:{type:String,default:"button"},tap:{type:Function,default:function(t){t()}},type:{type:String,default:"blue"},title:{type:String,default:""}},data:function(){var t="";return this.type.split(/\./).forEach(function(e){t+=" bjs-btn-"+e}),{loading:!1,classname:"bjs-btn"+t}},methods:{click:function(){if(this.loading)return!1;this.$emit("tap",this)}}},Y={render:function(){var t=this.$createElement;return(this._self._c||t)("button",{class:this.classname+(this.loading?" loading-btn":""),attrs:{title:this.title},on:{click:this.click}},[this._v(this._s(this.text))])},staticRenderFns:[]},Q=s("VU/8")(G,Y,!1,null,null,null).exports,Z={name:"Buy",props:["step","p_step","setpaypassword","fee","niceprice","asset"],components:{Button:Q},data:function(){return{router:"limit",isMarket:!1,isStop:!1,progressnum:0,paypassword:"",price:0,stop:0,quantity:"",amount:"0",maxnum:"-",coin:this.$store.state.marketInfo.market.split("_")[0],nicepricestatus:!1,usd:this.$store.state.marketInfo.market.split("_")[1]}},computed:{computedAmount:function(){return this.price=this.$store.state.tradePriceBuy,this.quantity=this.$store.state.tradeVolumeBuy,this.amount=(this.$store.state.tradePriceBuy*this.quantity*(1+.01*this.fee)).toFixed(this.$store.state.marketInfo.p_round),this.stop=this.$store.state.tradeBuyStop,this.price&&this.price>0?this.maxnum=Math.toFixed(this.asset/(1+.01*this.fee)/this.price,this.$store.state.marketInfo.p_round):this.maxnum="-",this.amount}},watch:{niceprice:function(){0==this.niceprice||this.nicepricestatus||(this.nicepricestatus=!0,this.price=this.$store.state.tradePriceBuy=this.niceprice)},price:function(){this.progressnum=0;var t=this.price+"",e=this.$store.state.marketInfo.p_round;t.split(".")[1]&&t.split(".")[1].length>e&&(this.price=this.$store.state.tradePriceBuy=t.split(".")[0]+"."+t.split(".")[1].substr(0,e))}},methods:{trade:function(t){var e=this;if(!e.$store.state.login)return window.location.href=e.$store.state.localhost+"/login",!1;var s={price:e.price,num:e.quantity,paypassword:e.$md5(e.paypassword),market:e.$store.state.marketInfo.market,type:1,stop:e.stop,tradeType:e.router};if(""==e.price||e.price<=0)return e.$layer.tips(e.$lang.tradeTips1,"#buy_price",{tips:2}),e.$refs.buy_price.focus(),!1;if("stop"==e.router&&(""==e.stop||e.stop<=0))return console.log(e.router+"running"),console.log(e.stop+"running"),e.$layer.tips(e.$lang.tradeTips1,"#buy_stop",{tips:2}),e.$refs.buy_stop.focus(),!1;if(""==e.quantity||e.quantity<=0)return e.$layer.tips(e.$lang.tradeTips2,"#buy_num",{tips:2}),e.$refs.buy_num.focus(),!1;if(2==e.setpaypassword&&""==e.paypassword)return e.$layer.tips(e.$lang.tradeTips3,"#buy_paypassword",{tips:2}),e.$refs.buy_paypassword.focus(),!1;if(e.amount<=0)return!1;t.loading=!0;e.axios.post("/Trade/upTrade",s).then(function(s){var i=s.data;t.loading=!1,i.status?(e.$layer.msg(i.info,{icon:2,time:3e3}),e.created(),e.quantity="",e.paypassword="",e.progressnum=0,e.$store.commit("setTradeVolumeBuy",e.quantity),e.$store.state.update.init()):(e.$store.state.update.init(),e.created(),e.$layer.msg(i.info,{icon:3,time:2e3}))}).catch(function(){t.loading=!1})},changeprogress:function(){this.progressnum=0},tradeType:function(t){switch(console.log(t),t){case"market":this.isStop=!1,this.isMarket=!0,this.router="market";break;case"limit":this.isStop=!1,this.isMarket=!1,this.router="limit";break;case"stop":this.isStop=!0,this.isMarket=!1,this.router="stop";break;default:this.isStop=!1,this.isMarket=!1,this.router="limit"}console.log(this.isMarket)},progress:function(t){return this.progressnum==t?(this.progressnum=0,!1):""==this.price||isNaN(this.price)?(this.$layer.tips(this.$lang.tradeTips1,"#buy_price",{tips:2,time:1e3}),!1):(this.progressnum=t,0==this.asset?(this.quantity=Math.toFixed("0.0000",this.$store.state.marketInfo.p_round),this.$store.commit("setTradeVolumeBuy",this.quantity),!1):(this.quantity=Math.toFixed(this.asset/(1+.01*this.fee)*t/100/this.price,this.$store.state.marketInfo.p_round),void this.$store.commit("setTradeVolumeBuy",this.quantity)))},set_price:function(){this.$store.commit("setTradePriceBuy",this.niceprice)}}},J={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"trading-buy pull-left"},[s("div",{staticClass:"bjs-tab-head nobg"},[s("ul",{staticClass:"flex-box"},[s("li",[s("a",{on:{click:function(e){return t.tradeType("limit")}}},[t._v("Limit")])]),t._v(" "),s("li",[s("a",{on:{click:function(e){return t.tradeType("market")}}},[t._v("Market")])]),t._v(" "),s("li",[s("a",{on:{click:function(e){return t.tradeType("stop")}}},[t._v("Stop-Limit")])])])]),t._v(" "),s("p",{staticClass:"trading-box-list text-overflow"},[s("span",[t._v(t._s(t.$lang.tradeAvbl))]),s("span",{staticClass:"c03ad6f pull-right font-12"},[s("span",{attrs:{id:"my_rmb"}},[t._v(t._s(t.asset))]),t._v(" "+t._s(t.usd.toLocaleUpperCase())+" ")])]),t._v(" "),t._m(0),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.isStop,expression:"isStop"}],staticClass:"input-group trading-box-list trading-input-group"},[s("span",{staticClass:"input-group-addon"},[t._v("Stop Price")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.tradeBuyStop,expression:"$store.state.tradeBuyStop"}],ref:"buy_stop",staticClass:"form-control",attrs:{type:"text",id:"buy_stop",name:"stop",min:"0",step:t.p_step},domProps:{value:t.$store.state.tradeBuyStop},on:{input:function(e){e.target.composing||t.$set(t.$store.state,"tradeBuyStop",e.target.value)}}})]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:!t.isMarket,expression:"!isMarket"}],staticClass:"input-group trading-box-list trading-input-group"},[s("span",{staticClass:"input-group-addon"},[t._v(t._s(t.$lang.tradeBuyPrice))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.tradePriceBuy,expression:"$store.state.tradePriceBuy"}],ref:"buy_price",staticClass:"form-control",attrs:{id:"buy_price",type:"number",name:"price",placeholder:t.$lang.tradeBuyPriceplaceholder,min:"0",step:t.p_step},domProps:{value:t.$store.state.tradePriceBuy},on:{input:function(e){e.target.composing||t.$set(t.$store.state,"tradePriceBuy",e.target.value)}}})]),t._v(" "),s("p",{staticClass:"input-group trading-box-list trading-input-group"},[s("span",{staticClass:"input-group-addon"},[t._v(t._s(t.$lang.tradeBuyVolume))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.tradeVolumeBuy,expression:"$store.state.tradeVolumeBuy"}],ref:"buy_num",staticClass:"form-control",attrs:{type:"text",id:"buy_num",name:"num",min:"0",step:t.step},domProps:{value:t.$store.state.tradeVolumeBuy},on:{input:[function(e){e.target.composing||t.$set(t.$store.state,"tradeVolumeBuy",e.target.value)},t.changeprogress]}})]),t._v(" "),s("div",{staticClass:"trading-box-list text-overflow"},[s("ul",{staticClass:"flex-box tc"},[s("li",[s("span",{class:(25==t.progressnum?"btn-up ":"")+"active-btn bjs-btn-full",on:{click:function(e){return t.progress(25)}}},[t._v("25%")])]),t._v(" "),s("li",{staticClass:"ml10"},[s("span",{class:(50==t.progressnum?"btn-up ":"")+"active-btn bjs-btn-full",on:{click:function(e){return t.progress(50)}}},[t._v("50%")])]),t._v(" "),s("li",{staticClass:"ml10"},[s("span",{class:(75==t.progressnum?"btn-up ":"")+"active-btn bjs-btn-full",on:{click:function(e){return t.progress(75)}}},[t._v("75%")])]),t._v(" "),s("li",{staticClass:"ml10"},[s("span",{class:(100==t.progressnum?"btn-up ":"")+"active-btn bjs-btn-full",on:{click:function(e){return t.progress(100)}}},[t._v("100%")])])])]),t._v(" "),s("p",{staticClass:"input-group trading-box-list trading-input-group"},[s("span",{staticClass:"input-group-addon"},[t._v(t._s(t.$store.state.login?1==t.setpaypassword?t.$lang.tradeAlert2:2==t.setpaypassword?t.$lang.tradeAlert3:t.$lang.tradeAlert4:t.$lang.tradeTradePassword))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.paypassword,expression:"paypassword",modifiers:{trim:!0}}],ref:"buy_paypassword",staticClass:"form-control pr3-important",attrs:{id:"buy_paypassword",name:"pwtrade",type:"password"},domProps:{value:t.paypassword},on:{input:function(e){e.target.composing||(t.paypassword=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),t._v(" "),s("span",{staticClass:"icon-setting setting-pay-password",attrs:{title:t.$lang.tradeSetting},on:{click:function(e){return t.$emit("set_paypassword")}}},[t._v(t._s(t.$lang.tradeSetting))])]),t._v(" "),s("p",{staticClass:"trading-box-list cplaceholder text-overflow font-12"},[t._v("\n\t        "+t._s(t.$lang.tradeAmount)+":"),s("span",{staticClass:"pull-right"},[s("span",{staticClass:"c03ad6f font-12",attrs:{id:"buy_mum"}},[t._v(t._s(t.computedAmount))]),t._v(" "+t._s(t.usd.toLocaleUpperCase()))])]),t._v(" "),s("p",{staticClass:"trading-box-list"},[s("Button",{attrs:{text:t.$store.state.login?t.$lang.tradeBuy:t.$lang.menuLogin,type:"full.max.up"},on:{tap:t.trade}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("input",{staticClass:"hide-input",attrs:{type:"text",name:"num"}}),this._v(" "),e("input",{staticClass:"hide-input",attrs:{type:"password",name:"pwtrade"}})])}]},K={name:"Sell",props:["step","p_step","setpaypassword","fee","niceprice","asset"],components:{Button:Q},data:function(){return{router:"limit",isMarket:!1,isStop:!1,progressnum:0,paypassword:"",price:0,stop:0,quantity:"",maxprice:"0",amount:"0",coin:this.$store.state.marketInfo.market.split("_")[0],nicepricestatus:!1,usd:this.$store.state.marketInfo.market.split("_")[1]}},computed:{computedAmount:function(){return this.price=this.$store.state.tradePriceSell,this.quantity=this.$store.state.tradeVolumeSell,this.amount=(this.$store.state.tradePriceSell*this.quantity).toFixed(this.$store.state.marketInfo.p_round),this.stop=this.$store.state.tradeSellStop,this.amount}},watch:{niceprice:function(){0==this.niceprice||this.nicepricestatus||(this.nicepricestatus=!0,this.price=this.$store.state.tradePriceSell=this.niceprice)},price:function(){this.progressnum=0;var t=this.price+"",e=this.$store.state.marketInfo.p_round;t.split(".")[1]&&t.split(".")[1].length>e&&(this.price=this.$store.state.tradePriceSell=t.split(".")[0]+"."+t.split(".")[1].substr(0,e))}},methods:{trade:function(t){var e=this;if(!e.$store.state.login)return window.location.href=e.$store.state.localhost+"/login",!1;var s={price:e.price,num:e.quantity,paypassword:e.$md5(e.paypassword),market:e.$store.state.marketInfo.market,type:2,stop:e.stop,tradeType:e.router};if(""==e.price||e.price<=0)return e.$layer.tips(e.$lang.tradeTips5,"#sell_price",{tips:4}),e.$refs.sell_price.focus(),!1;if("stop"==e.router&&(""==e.stop||e.stop<=0))return e.$layer.tips(e.$lang.tradeTips1,"#sell_stop",{tips:2}),e.$refs.buy_stop.focus(),!1;if(""==e.quantity||e.quantity<=0)return e.$layer.tips(e.$lang.tradeTips6,"#sell_num",{tips:4}),e.$refs.sell_num.focus(),!1;if(2==e.setpaypassword&&""==e.paypassword)return e.$layer.tips(e.$lang.tradeTips3,"#sell_paypassword",{tips:2}),e.$refs.sell_paypassword.focus(),!1;if(e.amount<=0)return!1;t.loading=!0;e.axios.post("/Trade/upTrade",s).then(function(s){var i=s.data;t.loading=!1,i.status?(e.$layer.msg(i.info,{icon:2,time:3e3}),e.created(),e.quantity="",e.paypassword="",e.progressnum=0,e.$store.commit("setTradeVolumeSell",e.quantity),e.$store.state.update.init()):(e.$layer.msg(i.info,{icon:3,time:2e3}),e.created(),e.$store.state.update.init())}).catch(function(){t.loading=!1})},changeprogress:function(){this.progressnum=0},tradeType:function(t){switch(console.log(t),t){case"market":this.isStop=!1,this.isMarket=!0,this.router="market";break;case"limit":this.isStop=!1,this.isMarket=!1,this.router="limit";break;case"stop":this.isStop=!0,this.isMarket=!1,this.router="stop";break;default:this.isStop=!1,this.isMarket=!1,this.router="limit"}console.log(this.isMarket)},progress:function(t){return this.progressnum==t?(this.progressnum=0,!1):""==this.price||isNaN(this.price)?(this.$layer.tips(this.$lang.tradeTips5,"#sell_price",{tips:4,time:1e3}),!1):(this.progressnum=t,this.quantity=Math.toFixed(this.asset*t/100,this.$store.state.marketInfo.p_round),void this.$store.commit("setTradeVolumeSell",this.quantity))},set_price:function(){this.$store.commit("setTradePriceSell",this.niceprice)}}},X={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"trading-sell pull-right"},[s("div",{staticClass:"bjs-tab-head nobg"},[s("ul",{staticClass:"flex-box"},[s("li",[s("a",{on:{click:function(e){return t.tradeType("limit")}}},[t._v("Limit")])]),t._v(" "),s("li",[s("a",{on:{click:function(e){return t.tradeType("market")}}},[t._v("Market")])]),t._v(" "),s("li",[s("a",{on:{click:function(e){return t.tradeType("stop")}}},[t._v("Stop-Limit")])])])]),t._v(" "),s("p",{staticClass:"trading-box-list text-overflow"},[s("span",[t._v(t._s(t.$lang.tradeAvbl))]),s("span",{staticClass:"cb94e50 font-12 pull-right"},[s("span",{attrs:{id:"my_rmb"}},[t._v(t._s(t.asset))]),t._v(" "+t._s(t.coin.toLocaleUpperCase())+" ")])]),t._v(" "),t._m(0),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:t.isStop,expression:"isStop"}],staticClass:"input-group trading-box-list trading-input-group"},[s("span",{staticClass:"input-group-addon"},[t._v("Stop Price")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.tradeSellStop,expression:"$store.state.tradeSellStop"}],ref:"sell_stop",staticClass:"form-control",attrs:{type:"text",id:"sell_stop",name:"stop",min:"0",step:t.p_step},domProps:{value:t.$store.state.tradeSellStop},on:{input:function(e){e.target.composing||t.$set(t.$store.state,"tradeSellStop",e.target.value)}}})]),t._v(" "),s("p",{directives:[{name:"show",rawName:"v-show",value:!t.isMarket,expression:"!isMarket"}],staticClass:"input-group trading-box-list trading-input-group"},[s("span",{staticClass:"input-group-addon"},[t._v(t._s(t.$lang.tradeSellPrice))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.tradePriceSell,expression:"$store.state.tradePriceSell"}],ref:"sell_price",staticClass:"form-control",attrs:{id:"sell_price",type:"number",name:"price",placeholder:t.$lang.tradeSellPriceplaceholder,min:"0",step:t.p_step},domProps:{value:t.$store.state.tradePriceSell},on:{input:function(e){e.target.composing||t.$set(t.$store.state,"tradePriceSell",e.target.value)}}})]),t._v(" "),s("p",{staticClass:"input-group trading-box-list trading-input-group"},[s("span",{staticClass:"input-group-addon"},[t._v(t._s(t.$lang.tradeSellVolume))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.$store.state.tradeVolumeSell,expression:"$store.state.tradeVolumeSell"}],ref:"sell_num",staticClass:"form-control",attrs:{type:"text",id:"sell_num",name:"num",min:"0",step:t.step},domProps:{value:t.$store.state.tradeVolumeSell},on:{input:[function(e){e.target.composing||t.$set(t.$store.state,"tradeVolumeSell",e.target.value)},t.changeprogress]}})]),t._v(" "),s("div",{staticClass:"trading-box-list text-overflow"},[s("ul",{staticClass:"flex-box tc"},[s("li",[s("span",{class:(25==t.progressnum?"btn-down ":"")+"active-btn bjs-btn-full",on:{click:function(e){return t.progress(25)}}},[t._v("25%")])]),t._v(" "),s("li",{staticClass:"ml10"},[s("span",{class:(50==t.progressnum?"btn-down ":"")+"active-btn bjs-btn-full",on:{click:function(e){return t.progress(50)}}},[t._v("50%")])]),t._v(" "),s("li",{staticClass:"ml10"},[s("span",{class:(75==t.progressnum?"btn-down ":"")+"active-btn bjs-btn-full",on:{click:function(e){return t.progress(75)}}},[t._v("75%")])]),t._v(" "),s("li",{staticClass:"ml10"},[s("span",{class:(100==t.progressnum?"btn-down ":"")+"active-btn bjs-btn-full",on:{click:function(e){return t.progress(100)}}},[t._v("100%")])])])]),t._v(" "),s("p",{staticClass:"input-group trading-box-list trading-input-group"},[s("span",{staticClass:"input-group-addon"},[t._v(t._s(t.$store.state.login?1==t.setpaypassword?t.$lang.tradeAlert2:2==t.setpaypassword?t.$lang.tradeAlert3:t.$lang.tradeAlert4:t.$lang.tradeTradePassword))]),t._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:t.paypassword,expression:"paypassword"}],ref:"sell_paypassword",staticClass:"form-control pr3-important",attrs:{id:"sell_paypassword",name:"pwtrade",type:"password"},domProps:{value:t.paypassword},on:{input:function(e){e.target.composing||(t.paypassword=e.target.value)}}}),t._v(" "),s("span",{staticClass:"icon-setting setting-pay-password",attrs:{title:t.$lang.tradeSetting},on:{click:function(e){return t.$emit("set_paypassword")}}},[t._v(t._s(t.$lang.tradeSetting))])]),t._v(" "),s("p",{staticClass:"trading-box-list cplaceholder text-overflow font-12",attrs:{title:t.$lang.tradeFee+t.fee+"%"+t.$lang.tradeFee2}},[t._v("\n            "+t._s(t.$lang.tradeAmount)+":"),s("span",{staticClass:"pull-right"},[s("span",{staticClass:"cb94e50 font-12",attrs:{id:"sell_mum"}},[t._v(t._s(t.computedAmount))]),t._v(" "+t._s(t.usd.toLocaleUpperCase()))])]),t._v(" "),s("p",{staticClass:"trading-box-list"},[s("Button",{attrs:{text:t.$store.state.login?t.$lang.tradeSell:t.$lang.menuLogin,type:"full.max.down"},on:{tap:t.trade}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("input",{staticClass:"hide-input",attrs:{type:"text",name:"num"}}),this._v(" "),e("input",{staticClass:"hide-input",attrs:{type:"password",name:"pwtrade"}})])}]},tt={name:"Trade",components:{Buy:s("VU/8")(Z,J,!1,null,null,null).exports,Sell:s("VU/8")(K,X,!1,null,null,null).exports},data:function(){return{setpaypassword:2,fee:"0.2",usd:"0",coin:"0",timer:!1,timerNum:0}},created:function(){var t=this.$store.state.marketInfo.market.split("_")[0],e=this.$store.state.marketInfo.market.split("_")[1];this.getAsset(t,e)},methods:{getAsset:function(t,e){var s=this;return s.timerNum++,!s.$store.state.login&&s.timerNum>6?(clearInterval(s.timer),!1):s.$store.state.login?(s.get_paypassword(),void s.axios.get("/Pro/assets/coinname/"+t+"/market_coin/"+e).then(function(i){var a=i.data;s.usd=1*a[e],s.coin=a[t];var n={usd:s.usd,coin:s.coin};s.$store.commit("setUSD",n),setTimeout(function(){s.getAsset(t,e)},1e4)})):(setTimeout(function(){s.getAsset(t,e)},1e3),!1)},get_paypassword:function(){var t=this;t.axios.get("/user/tpwdsetting").then(function(e){var s=e.data;t.setpaypassword=s||2})},set_paypassword:function(){var t=this;if(!t.$store.state.login)return t.$layer.msg(t.$lang.tradeLogin,{icon:1,time:1e3}),!1;t.$layer.alert({title:t.$lang.tradeAlert1,content:'<ul class="tpwd pad6"><li><label><input type="radio" name="setpaypassword" value="1"> '+t.$lang.tradeAlert2+'</label></li><li><label><input type="radio" name="setpaypassword" value="2"> '+t.$lang.tradeAlert3+'</label></li><li><label><input type="radio" name="setpaypassword" value="3"> '+t.$lang.tradeAlert4+'</label></li><li><p class="input-group trading-input-group padt10"><input type="password" placeholder="" id="setpaypassword" class="form-control form-control-tl"></p></li></ul>',maxWidth:360,btn:t.$lang.tradeAlert6,yes:function(e){var s=document.querySelector("#setpaypassword").value.trim();if(""==s)return t.$layer.tips(t.$lang.tradeAlert5,"#setpaypassword"),!1;t.setpaypassword=document.querySelector('[type="radio"]:checked').value;var i={tpwdsetting:t.setpaypassword,paypassword:t.$md5(s)};t.axios.post("/user/uptpwdsetting",i).then(function(s){var i=s.data;1==i.status?(t.$layer.msg(i.info,{icon:2}),t.$layer.close(e)):t.$layer.msg(i.info,{icon:3})})},success:function(e){document.querySelector('[type="radio"][value="'+t.setpaypassword+'"]').checked=!0}})}}},et={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"c2c-trading c2c-trading-bg clearfix font14"},[t._m(0),t._v(" "),s("Buy",{attrs:{asset:t.usd,step:t.$store.state.marketInfo.step,p_step:t.$store.state.marketInfo.p_step,setpaypassword:t.setpaypassword,niceprice:t.$store.state.tradeNicePriceBuy,fee:t.fee},on:{set_paypassword:t.set_paypassword}}),t._v(" "),s("Sell",{attrs:{asset:t.coin,step:t.$store.state.marketInfo.step,p_step:t.$store.state.marketInfo.p_step,setpaypassword:t.setpaypassword,niceprice:t.$store.state.tradeNicePriceSell,fee:t.fee},on:{set_paypassword:t.set_paypassword}})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"move"},[e("img",{attrs:{src:s("3GdG")}})])}]},st=s("VU/8")(tt,et,!1,null,null,null).exports,it={name:"Entrust",props:{datalist:{type:Array,default:function(){return[]}}},created:function(){this.init()},data:function(){return{coin:this.$store.state.marketInfo.market.split("_")[0],ajaxnum:0}},methods:{init:function(){var t=this;if(t.ajaxnum++,!t.$store.state.login&&t.ajaxnum>20)return!1;if(!t.$store.state.login)return setTimeout(function(){t.init()},1e3),!1;var e=this.$store.state.marketInfo.round,s=this.$store.state.marketInfo.p_round;t.axios.get("/Pro/getEntrustAndUsercoin?market="+t.$store.state.marketInfo.market).then(function(i){var a=[],n=i.data.entrust;if(n&&n.length)for(var r=0;r<n.length;r++){var o=n[r],l={id:o.id,time:o.addtime,deal:o.deal,type:o.type,condition:o.condition,stop:o.stop,tradetype:o.tradetype,price:(1*o.price).toFixed(s),volume:(1*o.num).toFixed(e),amount:(o.price*o.num).toFixed(s)};a.push(l)}var c=[],u=i.data.tradelog;if(u&&u.length)for(var d=0;d<u.length;d++){var h=u[d],p={id:h.id,time:h.addtime,fee:1*h.fee,type:h.type,price:(1*h.price).toFixed(s),volume:(1*h.num).toFixed(e),amount:(h.price*h.num).toFixed(s)};c.push(p)}t.$store.commit("changeSocketAsset",a),t.$store.commit("changeTradeLog",c),setTimeout(function(){t.init()},1e4)})},cancel:function(t,e){var s="reject";"limit"==e&&(s="reject"),"Stop-Limit"==e&&(s="stopreject");var i=this;i.$layer.alert({content:i.$lang.assetCancel2,btn:"Confirm",title:"Cancle Order",yes:function(e){var a=this;i.$layer.close(e),e=i.$layer.loading(),i.axios.post("/Trade/"+s,{id:t}).then(function(s){var n=s.data;if(a.state.trade.created(),1==n.status){for(var r=i.$store.state.socketAsset,o=-1,l=0;l<r.length;l++)r[l].id==t&&(o=l);o>-1&&(r.splice(o,1),i.$store.commit("changeSocketAsset",r)),i.$layer.msg(n.info,{icon:2})}else i.$layer.msg(n.error,{icon:3});i.$layer.close(e)}).catch(function(){i.$layer.close(e)})}})},myzc:function(){var t=this.$store.state.marketInfo.market.split("_")[0],e=this.$store.state.localhost+"/Finance/myzc/coin/"+t;window.location.href=e}}},at={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-tab-scroll"},[s("div",{staticClass:"my-tab-scroll-head new-list"},[s("ul",{staticClass:"flex-box new-list-item new-list-item-head tophgrey tc text-nowrap hover-ova-pad"},[s("li",{staticClass:"flex-item-2"},[t._v(t._s(t.$lang.assetTime1))]),t._v(" "),s("li",[t._v(t._s(t.$lang.assetBuySell))]),t._v(" "),s("li",[t._v("Condition")]),t._v(" "),s("li",[t._v("Stop")]),t._v(" "),s("li",[t._v("Trade Type")]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(t.$lang.coinlistPrice))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(t.$lang.assetVolume))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(t.$lang.assetDeal))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(t.$lang.assetAmount))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(t.$lang.assetOperation))])])]),t._v(" "),s("div",{attrs:{id:"my-tab-scroll-box-1"}},[s("div",{staticClass:"new-list"},[t._l(t.datalist,function(e,i){return s("ul",{key:i,class:"flex-box new-list-item tc text-nowrap hover-ova-pad"+(i%2==0?" odd":" even")},[s("li",{staticClass:"flex-item-2"},[t._v(t._s(e.time))]),t._v(" "),s("li",[1==e.type?s("span",{staticClass:"bjs-color-up"},[t._v(t._s(t.$lang.tradeBuy))]):t._e(),2==e.type?s("span",{staticClass:"bjs-color-down"},[t._v(t._s(t.$lang.tradeSell))]):t._e()]),t._v(" "),s("li",[t._v(t._s(e.condition))]),t._v(" "),s("li",[t._v(t._s(e.stop))]),t._v(" "),s("li",[t._v(t._s(e.tradetype))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(e.price))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(e.volume))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(e.deal))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(e.amount))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[s("a",{staticClass:"bjs-btn bjs-btn-cyan",attrs:{href:"javascript:;"},on:{click:function(s){return t.cancel(e.id,e.tradetype)}}},[t._v(t._s(t.$lang.assetCancel))])])])}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.datalist.length,expression:"!datalist.length"}],staticClass:"no-data tc padt10"},[s("span",[t._v(t._s(t.$lang.assetNotData))])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.datalist.length>=20,expression:"datalist.length >= 20"}],staticClass:"tc padt10"},[s("a",{attrs:{href:t.$store.state.localhost+"/Finance/mywt",target:"_blank"}},[t._v(t._s(t.$lang.viewMore))]),t._v(" "),s("p",{staticClass:"padt10"})])],2)])])},staticRenderFns:[]},nt=s("VU/8")(it,at,!1,null,null,null).exports,rt={name:"Traded",props:{datalist:{type:Array,default:function(){return[]}}},data:function(){return{}}},ot={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-tab-scroll"},[s("div",{staticClass:"my-tab-scroll-head new-list"},[s("ul",{staticClass:"flex-box new-list-item new-list-item-head tc text-nowrap hover-ova-pad tophgrey"},[s("li",{staticClass:"flex-item-2"},[t._v(t._s(t.$lang.assetTime2))]),t._v(" "),s("li",[t._v(t._s(t.$lang.assetBuySell))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(t.$lang.coinlistPrice))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(t.$lang.assetVolume))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(t.$lang.tradeFee))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(t.$lang.assetAmount))])])]),t._v(" "),s("div",{attrs:{id:"my-tab-scroll-box-0"}},[s("div",{staticClass:"new-list"},[t._l(t.datalist,function(e,i){return s("ul",{key:i,class:"flex-box new-list-item tc text-nowrap hover-ova-pad"+(i%2==0?" odd":" even")},[s("li",{staticClass:"flex-item-2"},[t._v(t._s(e.time))]),t._v(" "),1==e.type?s("li",[s("span",{staticClass:"bjs-color-up"},[t._v(t._s(t.$lang.tradeBuy))])]):t._e(),t._v(" "),2==e.type?s("li",[s("span",{staticClass:"bjs-color-down"},[t._v(t._s(t.$lang.tradeSell))])]):t._e(),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(e.price))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(e.volume))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(e.fee))]),t._v(" "),s("li",{staticClass:"flex-item-2"},[t._v(t._s(e.amount))])])}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.datalist.length,expression:"!datalist.length"}],staticClass:"no-data tc padt10"},[s("span",[t._v(t._s(t.$lang.assetNotData))])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.datalist.length>=20,expression:"datalist.length >= 20"}],staticClass:"tc padt10"},[s("a",{attrs:{href:t.$store.state.localhost+"/User/trade_log",target:"_blank"}},[t._v(t._s(t.$lang.viewMore))]),t._v(" "),s("p",{staticClass:"padt10"})])],2)])])},staticRenderFns:[]},lt={name:"Asset",components:{Entrust:nt,Traded:s("VU/8")(rt,ot,!1,null,null,null).exports},data:function(){return{tabs:{asset:1}}},methods:{tabChange:function(t){if(t==this.tabs.asset)return!1;this.tabs.asset=t,this.$store.commit("addResize")}}},ct={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-tab-box trade-unit-box clearfix roundbox"},[t._m(0),t._v(" "),s("div",{staticClass:"my-tab-head w100-15 tophdark"},[s("span",{class:(0==t.tabs.asset?"active ":"")+"mouseover darkgray",on:{click:function(e){return t.tabChange(0)}}},[t._v(t._s(t.$lang.assetOpenOrder))]),t._v(" "),s("span",{class:(1==t.tabs.asset?"active ":"")+"mouseover darkgray",on:{click:function(e){return t.tabChange(1)}}},[t._v(t._s(t.$lang.assetHistoryOrder))])]),t._v(" "),s("div",{staticClass:"my-tab-cont my-tab-cont-2-3 w100-15"},[s("Entrust",{directives:[{name:"show",rawName:"v-show",value:0==t.tabs.asset,expression:"tabs.asset == 0"}],attrs:{datalist:t.$store.state.socketAsset}}),t._v(" "),s("Traded",{directives:[{name:"show",rawName:"v-show",value:1==t.tabs.asset,expression:"tabs.asset == 1"}],attrs:{datalist:t.$store.state.tradeLog}})],1)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"move"},[e("img",{attrs:{src:s("3GdG")}})])}]},ut=s("VU/8")(lt,ct,!1,null,null,null).exports,dt={name:"Sell",props:{list:{type:Array,default:function(){return[]}}},data:function(){return{depth:[],listbak:[],listadd:[],newsdepth:[],change:!0,entrustDepth:this.$store.state.entrustDepth,animteChange:"",sum:0}},watch:{list:function(){var t=this;this.$store.state.entrustDepth!=this.entrustDepth?(this.entrustDepth=this.$store.state.entrustDepth,this.change=!1):this.change=!0,this.listdata=this.list;for(var e=30-this.list.length,s=0;s<e;s++)this.listadd.push(1);var i=[],a=[];if(this.sum=0,this.list.forEach(function(e){t.sum+=1*e.volume,i.push($()(e))}),this.listbak.length)for(var n=0;n<i.length;n++){for(var r=i[n],o=1,l=0;l<this.listbak.length;l++)if(r==this.listbak[l]){o=0;break}a.push(o)}""==this.animteChange?this.animteChange=1:this.animteChange="",this.listbak=i,this.newsdepth=[],setTimeout(function(){t.newsdepth=a},20),this.depth=[];var c=this.sum;this.list.forEach(function(e){t.depth.push(c.toFixed(t.$store.state.marketInfo.round)),c-=1*e.volume})}},methods:{setPrice:function(t,e,s){var i=s;this.$store.commit("setTradePrice",e),s>this.$store.state.usd.coin&&0==(s=this.$store.state.usd.coin)&&(s=""),this.$store.commit("setTradeVolumeSell",s),i*e>this.$store.state.usd.usd&&(i=0==(i=this.$store.state.usd.usd/e/1.002)?"":Math.toFixed(i,this.$store.state.marketInfo.round)),this.$store.commit("setTradeVolumeBuy",i),this.initMarket(e)},initMarket:function(t){var e=this.$store.state.marketInfo;t.split(".")[1]?e.p_round=t.split(".")[1].length:e.p_round=0,e.round=8-e.p_round;var s="1";if(e.round&&e.round>1){s="0.";for(var i=1;i<e.round;i++)s+="0";s+="1"}e.step=s;var a="1";if(e.p_round&&e.p_round>1){a="0.";for(var n=1;n<e.p_round;n++)a+="0";a+="1"}e.p_step=a,this.$store.commit("setMarketInfo",e)}}},ht={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"new-list pending-sell-box"},[t._l(t.listadd,function(e,i){return s("ul",{key:"add"+i,class:"flex-box depth-rect pad0-6 hover-ova-pad"},[t._m(0,!0),t._v(" "),t._m(1,!0),t._v(" "),t._m(2,!0)])}),t._v(" "),t._l(t.list,function(e,i){return s("ul",{key:i,class:"flex-box depth-rect pad0-6 mouseover hover-ova-pad"+(t.newsdepth[i]&&t.change?" animate-depth-down"+t.animteChange:""),attrs:{title:t.$lang.pengingorderBuyTitle},on:{click:function(s){return t.setPrice("Buy",e.price,t.depth[i])}}},[s("li",[s("div",{staticClass:"depth-rect-down",style:"width: "+t.depth[i]/t.sum*100+"%;"}),t._v(" "),s("div",{staticClass:"bjs-color-down"},[t._v(t._s(1*e.price))])]),t._v(" "),s("li",{staticClass:"tc"},[t._v(t._s(1*e.volume))]),t._v(" "),s("li",{staticClass:"tr"},[t._v(t._s((e.volume*e.price*1).toFixed(2)))])])}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.list.length&&!t.$store.state.socketState,expression:"list.length == 0 && !$store.state.socketState"}],staticClass:"trade-view-loading scale5"})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("div",{staticClass:"opacity6"},[this._v("---")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"tc"},[e("div",{staticClass:"opacity6"},[this._v("---")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"tr"},[e("div",{staticClass:"opacity6"},[this._v("---")])])}]},pt=s("VU/8")(dt,ht,!1,null,null,null).exports,mt={name:"Buy",props:{list:{type:Array,default:function(){return[]}}},data:function(){return{depth:[],listbak:[],listadd:[],newsdepth:[],change:!0,entrustDepth:this.$store.state.entrustDepth,animteChange:"",sum:0}},watch:{list:function(){var t=this;this.$store.state.entrustDepth!=this.entrustDepth?(this.entrustDepth=this.$store.state.entrustDepth,this.change=!1):this.change=!0,this.listdata=this.list;for(var e=30-this.list.length,s=0;s<e;s++)this.listadd.push(1);var i=[],a=[];if(this.sum=0,this.list.forEach(function(e){t.sum+=1*e.volume,i.push($()(e))}),this.listbak.length)for(var n=0;n<i.length;n++){for(var r=i[n],o=1,l=0;l<this.listbak.length;l++)if(r==this.listbak[l]){o=0;break}a.push(o)}""==this.animteChange?this.animteChange=1:this.animteChange="",this.listbak=i,this.newsdepth=[],setTimeout(function(){t.newsdepth=a},20),this.depth=[];var c=0;this.list.forEach(function(e){c+=1*e.volume,t.depth.push(c.toFixed(t.$store.state.marketInfo.round))})}},methods:{setPrice:function(t,e,s){this.$store.commit("setTradePrice",e);var i=s;this.$store.commit("setTradePrice",e),s>this.$store.state.usd.coin&&0==(s=this.$store.state.usd.coin)&&(s=""),this.$store.commit("setTradeVolumeSell",s),i*e>this.$store.state.usd.usd&&(i=0==(i=this.$store.state.usd.usd/e/1.002)?"":Math.toFixed(i,this.$store.state.marketInfo.round)),this.$store.commit("setTradeVolumeBuy",i),this.initMarket(e)},initMarket:function(t){var e=this.$store.state.marketInfo;console.log("buyvue134"),t.split(".")[1]?e.p_round=t.split(".")[1].length:e.p_round=0,e.round=8-e.p_round;var s="1";if(e.round&&e.round>1){s="0.";for(var i=1;i<e.round;i++)s+="0";s+="1"}e.step=s;var a="1";if(e.p_round&&e.p_round>1){a="0.";for(var n=1;n<e.p_round;n++)a+="0";a+="1"}e.p_step=a,this.$store.commit("setMarketInfo",e)}}},ft={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"new-list pending-buy-box"},[t._l(t.list,function(e,i){return s("ul",{key:i,class:"flex-box depth-rect pad0-6 mouseover hover-ova-pad"+(t.newsdepth[i]&&t.change?" animate-depth-up"+t.animteChange:""),attrs:{title:t.$lang.pengingorderSellTitle},on:{click:function(s){return t.setPrice("Sell",e.price,t.depth[i])}}},[s("li",[s("div",{staticClass:"depth-rect-up",style:"width: "+t.depth[i]/t.sum*100+"%;"}),t._v(" "),s("div",{staticClass:"bjs-color-up"},[t._v(t._s(1*e.price))])]),t._v(" "),s("li",{staticClass:"tc"},[t._v(t._s(1*e.volume))]),t._v(" "),s("li",{staticClass:"tr"},[t._v(t._s((e.volume*e.price*1).toFixed(2)))])])}),t._v(" "),t._l(t.listadd,function(e,i){return s("ul",{key:"add"+i,class:"flex-box depth-rect pad0-6 hover-ova-pad"},[t._m(0,!0),t._v(" "),t._m(1,!0),t._v(" "),t._m(2,!0)])}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.list.length&&!t.$store.state.socketState,expression:"list.length == 0 && !$store.state.socketState"}],staticClass:"trade-view-loading scale5"})],2)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("div",{staticClass:"opacity6"},[this._v("---")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"tc"},[e("div",{staticClass:"opacity6"},[this._v("---")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",{staticClass:"tr"},[e("div",{staticClass:"opacity6"},[this._v("---")])])}]},vt={name:"Pendingorder",props:["p_round","nicePrice"],components:{Sell:pt,Buy:s("VU/8")(mt,ft,!1,null,null,null).exports},data:function(){return{depthSelect:!1,depth:.01,depthlist:[],showlist:1,rect:!0}},created:function(){this.createStep(this.p_round)},computed:{tousdt:function(){console.log(this.$store.state.marketInfo);return" $"+(this.nicePrice*this.$store.state.marketInfo.tousdt).toFixed(this.p_round)}},watch:{p_round:function(){this.createStep(this.p_round)}},methods:{createStep:function(t){var e=[1e-6,1e-5,1e-4,.001,.01,.1,1,10,100,1e3,1e4,1e5,1e6],s=e[6-t];this.depth=s,this.depthlist=e.slice(6-t,12-t),this.$store.commit("changeSocketEntrustDepth",t)},setPrice:function(){this.$store.commit("setTradePriceBuy",this.nicePrice),this.$store.commit("setTradePriceSell",this.nicePrice)},selectShow:function(){var t=this;if(!this.depthSelect){setTimeout(function(){document.addEventListener("keydown",t.closeSelect,1),document.addEventListener("click",t.listenSelect,!1)},100);var e=this.$refs.select_box.getBoundingClientRect().top-window.innerHeight;this.rect=e>-173}this.depthSelect=!this.depthSelect},select:function(t){if(document.removeEventListener("keydown",this.closeSelect,1),document.removeEventListener("click",this.listenSelect,!1),this.depth==t)return this.depthSelect=!1,!1;this.depth=t,this.depthSelect=!1;for(var e=[1e-6,1e-5,1e-4,.001,.01,.1,1,10,100,1e3,1e4,1e5,1e6],s=2,i=0;i<e.length;i++)t==e[i]&&(s=6-i);this.$store.state.update.sendMessage({type:"entrust",resolution:s})},closeSelect:function(t){27==t.keyCode&&(this.depthSelect=!this.depthSelect,document.removeEventListener("keydown",this.closeSelect,1),document.removeEventListener("click",this.listenSelect,!1))},listenSelect:function(){this.depthSelect&&(this.depthSelect=!this.depthSelect),document.removeEventListener("click",this.listenSelect,!1)},changeBox:function(t){this.showlist=t}}},gt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-tab-box trade-unit-box clearfix"},[t._m(0),t._v(" "),s("div",{staticClass:"my-tab-cont latestdeal-depth-show"},[s("div",{staticClass:"my-tab-scroll-wrap-head pos-rel tophgrey"},[s("div",{staticClass:"c2c-table-box-head"},[s("ul",{staticClass:"flex-box new-list-item-head pad6 hover-ova-pad"},[s("li",[t._v(t._s(t.$lang.coinlistPrice)+"("+t._s(t.$store.state.marketInfo.market.toLocaleUpperCase().split("_")[1])+")")]),t._v(" "),s("li",{staticClass:"tc"},[t._v(t._s(t.$lang.assetVolume)+"("+t._s(t.$store.state.marketInfo.market.toLocaleUpperCase().split("_")[0])+")")]),t._v(" "),s("li",{staticClass:"tr"},[t._v(t._s(t.$lang.depthAmount)+"("+t._s(t.$store.state.marketInfo.market.toLocaleUpperCase().split("_")[1])+")")])])])]),t._v(" "),s("div",{staticClass:"my-tab-scroll-wrap-box pos-rel"},[s("div",{class:"my-tab-scroll-cont my-tab-scroll-cont4 ovh"+(1==t.showlist?"":2==t.showlist?" show-all-height":" hide")},[s("Sell",{attrs:{list:t.$store.state.socketPendingOrderSell}})],1),t._v(" "),s("div",{class:"my-tab-scroll-cont4-bob"+(1==t.showlist?"":2==t.showlist?" show-all-bottom":" show-all-top")},[s("em",{staticClass:"bjs-color-up font18 pl5 mouseover",on:{click:t.setPrice}},[t._v(t._s((1*t.nicePrice).toFixed(t.$store.state.marketInfo.p_round)))])]),t._v(" "),s("div",{class:"my-tab-scroll-cont my-tab-scroll-cont6 ovh"+(1==t.showlist?"":3==t.showlist?" show-all-height":" hide")},[s("Buy",{attrs:{list:t.$store.state.socketPendingOrderBuy}})],1)])]),t._v(" "),s("div",{staticClass:"pr15 mat5"},[s("div",{ref:"select_box",staticClass:"depth-select pl5 dblb",attrs:{id:"select_box"}},[s("span",{staticClass:"mouseover",on:{click:t.selectShow}},[t._v(t._s(t.$lang.latestdealDepth)+" "),s("span",{class:"depth-select-arr"+(t.depthSelect?" active":"")},[t._v(t._s(t.depth))])]),t._v(" "),s("ul",{class:"depth-select-list tr"+(t.depthSelect?"":" hide")+(t.rect?" bottom":"")},t._l(t.depthlist,function(e,i){return s("li",{key:i,class:"depth-select-option mouseover"+(t.depth==e?" active":""),on:{click:function(s){return s.preventDefault(),s.stopPropagation(),t.select(e)}}},[t._v(t._s(e))])}),0)]),t._v(" "),s("div",{staticClass:"pull-right"},[s("span",{class:"mouseover dblb pending-order-all pending-order-btn"+(1==t.showlist?" active":""),on:{click:function(e){return t.changeBox(1)}}}),t._v(" "),s("span",{class:"mouseover dblb pending-order-sell pending-order-btn"+(2==t.showlist?" active":""),on:{click:function(e){return t.changeBox(2)}}}),t._v(" "),s("span",{class:"mouseover dblb pending-order-buy pending-order-btn"+(3==t.showlist?" active":""),on:{click:function(e){return t.changeBox(3)}}})])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"move"},[e("img",{attrs:{src:s("3GdG")}})])}]},_t=s("VU/8")(vt,gt,!1,null,null,null).exports,yt={name:"List",props:{list:{type:Array,default:function(){return[]}}},data:function(){return{listdata:[],listbak:[],newsdepth:[],animteChange:""}},watch:{list:function(){var t=this;this.listdata=this.list;var e=[],s=[];if(this.list.forEach(function(t){e.push($()(t))}),this.listbak.length)for(var i=0;i<e.length;i++){for(var a=e[i],n=1,r=0;r<this.listbak.length;r++)if(a==this.listbak[r]){n=0;break}s.push(n)}""==this.animteChange?this.animteChange=1:this.animteChange="",this.listbak=e,this.newsdepth=[],setTimeout(function(){t.newsdepth=s},20)}},methods:{setPrice:function(t,e,s){t=2==t?"Buy":"Sell",this.$store.commit("setTradePrice",e);var i=s;this.$store.commit("setTradePrice",e),s>this.$store.state.usd.coin&&0==(s=this.$store.state.usd.coin)&&(s=""),this.$store.commit("setTradeVolumeSell",s),i*e>this.$store.state.usd.usd&&(i=0==(i=this.$store.state.usd.usd/e/1.002)?"":Math.toFixed(i,this.$store.state.marketInfo.round)),this.$store.commit("setTradeVolumeBuy",i),this.initMarket(e)},initMarket:function(t){var e=this.$store.state.marketInfo;t.split(".")[1]?e.p_round=t.split(".")[1].length:e.p_round=0,e.round=8-e.p_round;var s="1";if(e.round&&e.round>1){s="0.";for(var i=1;i<e.round;i++)s+="0";s+="1"}e.step=s;var a="1";if(e.p_round&&e.p_round>1){a="0.";for(var n=1;n<e.p_round;n++)a+="0";a+="1"}e.p_step=a,this.$store.commit("setMarketInfo",e)}}},bt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"new-list latestdeal-order-box"},[t._l(t.listdata,function(e,i){return s("ul",{key:i,class:"flex-box depth-rect pad0-6 mouseover hover-ova-pad"+(t.newsdepth[i]?" animate-depth-"+(1==e.type?"up":"down")+t.animteChange:""),attrs:{title:2==e.type?t.$lang.pengingorderBuyTitle:t.$lang.pengingorderSellTitle}},[s("li",{staticClass:"tl"},[s("div",{class:"bjs-color-"+(1==e.type?"up":"down")},[t._v(t._s(e.time))])]),t._v(" "),s("li",{staticClass:"tc"},[s("div",{class:"bjs-color-"+(1==e.type?"up":"down"),on:{click:function(s){return t.setPrice(e.type,e.price,e.volume)}}},[t._v(t._s(e.price))])]),t._v(" "),s("li",{staticClass:"tr"},[t._v(t._s(e.volume))])])}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0==t.list.length&&!t.$store.state.socketState,expression:"list.length == 0 && !$store.state.socketState"}],staticClass:"trade-view-loading scale5"})],2)},staticRenderFns:[]},wt={name:"Latestdeal",components:{List:s("VU/8")(yt,bt,!1,null,null,null).exports},data:function(){return{}}},kt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my-tab-box trade-unit-box clearfix"},[t._m(0),t._v(" "),s("div",{staticClass:"my-tab-cont"},[s("div",{staticClass:"my-tab-scroll-wrap-head pos-rel tophgrey"},[s("div",{staticClass:"c2c-table-box-head"},[s("ul",{staticClass:"flex-box new-list-item-head pad6 hover-ova-pad"},[s("li",{staticClass:"tl"},[t._v(t._s(t.$lang.assetTime))]),t._v(" "),s("li",{staticClass:"tc"},[t._v(t._s(t.$lang.latestdealPrice))]),t._v(" "),s("li",{staticClass:"tr"},[t._v(t._s(t.$lang.latestdealVolume))])])])]),t._v(" "),s("div",{staticClass:"my-tab-scroll-wrap-box pos-rel overflow-auto ovh"},[s("List",{attrs:{list:t.$store.state.socketLatestdeal}})],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"move"},[e("img",{attrs:{src:s("3GdG")}})])}]},xt={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"topspace"},[s("ul",{attrs:{id:"topstats"}},[s("li",{staticClass:"marketname"},[s("h2",{attrs:{id:"ts-marketname"}},[t._v("\n                "+t._s(t.$store.state.marketInfo.title.replace("_"," / ").toLocaleUpperCase())+"\n                "),t.$store.state.marketInfo.img?s("img",{attrs:{src:t.$store.state.localhost+"/Upload/coin/"+t.$store.state.marketInfo.img}}):t._e()])]),t._v(" "),s("li",{staticClass:"widthpercent"},[s("h5",[t._v("LAST PRICE")]),t._v(" "),s("h2",{staticClass:"statup",attrs:{id:"ts-lastprice"}},[s("span",{class:1*t.$store.state.socketTopic.rate-0>0?"icon-arrow-up":"icon-arrow-down"},[t._v(t._s(1*t.$store.state.socketTopic.price))])])]),t._v(" "),s("li",{staticClass:"changes24 widthpercent"},[s("h5",[t._v("24H CHANGES")]),t._v(" "),s("h2",{staticClass:"statdown",attrs:{id:"ts-change24"}},[s("span",{class:1*t.$store.state.socketTopic.rate-0>0?"icon-arrow-up":"icon-arrow-down"},[t._v(t._s((1*t.$store.state.socketTopic.rate-0>0?"+":"")+t.$store.state.socketTopic.rate)+"%")])])]),t._v(" "),s("li",{staticClass:"changes24 widthpercent"},[s("h5",{staticClass:"high-stat"},[t._v("24H")]),t._v(" "),s("h2",{attrs:{id:"ts-high24"}},[t._v(t._s(1*t.$store.state.socketTopic.high))])]),t._v(" "),s("li",{staticClass:"changes24 widthpercent"},[s("h5",{staticClass:"low-stat"},[t._v("24H")]),t._v(" "),s("h2",{attrs:{id:"ts-low24h"}},[t._v(t._s(1*t.$store.state.socketTopic.low))])]),t._v(" "),s("li",{staticClass:"changes24 widthpercent"},[s("h5",[t._v("24H VOLUME")]),t._v(" "),s("h2",{attrs:{id:"ts-vol24h"}},[t._v("\n                "+t._s((1*t.$store.state.socketTopic.volume).toFixed(0))+"\n                "+t._s(t.$store.state.marketInfo.market.toLocaleUpperCase().split("_")[0])+"\n            ")])])])])},staticRenderFns:[]},Ct={render:function(){var t=this.$createElement;return(this._self._c||t)("div")},staticRenderFns:[]},$t={name:"Content",components:{Coinlist:w,Kline:q,Trade:st,Asset:ut,Pendingorder:_t,Latestdeal:s("VU/8")(wt,kt,!1,null,null,null).exports,Stats:s("VU/8")({name:"Menu"},xt,!1,null,null,null).exports,Submenu:s("VU/8")({name:"Submenu"},Ct,!1,null,null,null).exports,DndGridContainer:v.Container,DndGridBox:v.Box},data:function(){return{layout:!1,tab:1,status:0,cellSize:{w:this.findWidth(),h:100},maxColumnCount:12,maxRowCount:1/0,bubbleUp:!1,margin:10,boxCount:5,layoutJson:[{id:"coinlistBox",hidden:!1,pinned:!1,position:{x:0,y:0,w:3,h:8}},{id:"klinebox",hidden:!1,pinned:!1,position:{x:3,y:0,w:6,h:5}},{id:"lastpriceBox",hidden:!1,pinned:!1,position:{x:9,y:0,w:3,h:8}},{id:"tradesbox",hidden:!1,pinned:!1,position:{x:3,y:5,w:6,h:2}},{id:"orderhistoryBox",hidden:!1,pinned:!1,position:{x:0,y:8,w:12,h:2}},{id:4,hidden:!1,pinned:!1,position:{x:6,y:2,w:3,h:1}}],tabs:[]}},watch:{windowHeight:function(t,e){this.txt="it changed to "+t+" from "+e}},mounted:function(){var t=this;this.$nextTick(function(){window.addEventListener("resize",t.onResize)})},beforeDestroy:function(){window.removeEventListener("resize",this.onResize)},created:function(){var t=this;window.onresize=function(){t.resetLayout()},t.resetLayout()},methods:{resetLayout:function(){var t=window.innerWidth;t<2400&&0==this.status?this.status=1:t>2400&&0!=this.status&&(this.status=0),this.$store.commit("addResize",1)},onResize:function(){this.windowHeight=window.innerHeight},findWidth:function(){var t=0;return t=window.innerWidth<780?100:window.innerWidth/12-11,console.log(window.innerWidth+"<- Inner width and Gowidth="+t),t},checkTab:function(t){if(0==this.status)return!1;this.tab=t}}},St={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[s("Submenu"),t._v(" "),s("Stats"),t._v(" "),s("div",{class:(t.layout?"layout-off ":"")+"clearfix trade-page-content trade-page layout-animate"},[s("dnd-grid-container",{attrs:{layout:t.layoutJson,cellSize:t.cellSize,maxColumnCount:t.maxColumnCount,maxRowCount:t.maxRowCount,margin:t.margin,bubbleUp:t.bubbleUp},on:{"update:layout":function(e){t.layoutJson=e}}},[s("dnd-grid-box",{attrs:{boxId:"coinlistBox",dragSelector:"span.move img"}},[s("div",{staticClass:" roundbox"},[s("Coinlist",{attrs:{fav:t.$store.state.fav,coinlistdata:t.$store.state.socketCoinList}})],1)]),t._v(" "),s("dnd-grid-box",{attrs:{boxId:"klinebox",dragSelector:"span.move img"}},[s("div",{staticClass:"page-left-2-1 roundbox klinebox"},[s("Kline")],1)]),t._v(" "),s("dnd-grid-box",{attrs:{boxId:"tradesbox",dragSelector:"span.move img"}},[s("div",{staticClass:"page-left-2-2 roundbox tradesbox"},[s("Trade")],1)]),t._v(" "),s("dnd-grid-box",{attrs:{boxId:"lastpriceBox",dragSelector:"span.move img"}},[s("div",{staticClass:"roundbox"},[s("ul",{class:0==t.status?"flex-box movebox tophdark":"flex-box-2 clearfix movebox tophdark"},[s("li",[s("span",{class:(1==t.status?"mouseover":"")+(1==t.status&&1==t.tab?" active":"")+" item-new-btn darkgray",on:{click:function(e){return t.checkTab(1)}}},[t._v(t._s(t.$lang.pengingorderNew))])]),t._v(" "),s("li",{class:0==t.status?"bl-2":""},[s("span",{class:(1==t.status?"mouseover":"")+(1==t.status&&2==t.tab?" active":"")+" item-new-btn darkgray",on:{click:function(e){return t.checkTab(2)}}},[t._v(t._s(t.$lang.latestdealLastTrade))])])]),t._v(" "),s("ul",{class:0==t.status?"flex-box movebox tophdark":""},[s("li",{directives:[{name:"show",rawName:"v-show",value:0==t.status||1==t.tab,expression:"status == 0 || tab == 1"}]},[s("div",{class:"page-left-5"+(1==t.status&&1==t.tab?" w100":"")},[s("Pendingorder",{attrs:{nicePrice:t.$store.state.tradeNicePrice,p_round:t.$store.state.entrustDepthRound}})],1)]),t._v(" "),s("li",{directives:[{name:"show",rawName:"v-show",value:0==t.status||2==t.tab,expression:"status == 0 || tab == 2"}],class:0==t.status?"bl-2":""},[s("div",{class:"page-left-5"+(1==t.status&&2==t.tab?" w100":"")},[s("Latestdeal")],1)])])])]),t._v(" "),s("dnd-grid-box",{attrs:{boxId:"orderhistoryBox",dragSelector:"span.move img"}},[s("div",{staticClass:"page-left-2-3"},[s("Asset")],1)])],1)],1)],1)},staticRenderFns:[]},Tt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"footer"},[e("div",{staticClass:"bjs-copyright-cont"},[this._v(this._s(this.$lang.copyright)+" "),e("br")])])},staticRenderFns:[]},Dt={name:"App",components:{Header:f,Content:s("VU/8")($t,St,!1,null,null,null).exports,Footer:s("VU/8")({name:"Footer",data:function(){return{}}},Tt,!1,null,null,null).exports},beforeCreate:function(){var t=this;console.log(this);var e=t.$store.state.skin;t.$layer.apply({skin:e}),document.body.className="white"==e?"skin-white":"",t.axios.get(t.$store.state.localhost+"/Pro/coininfo?coinname="+t.$store.state.marketInfo.market).then(function(e){var s=e.data;t.initMarket(s)}),t.axios.get(t.$store.state.localhost+"/Pro/getuid/t/"+Math.floor(1e18*Math.random())).then(function(e){var s=e.data;t.initLogin(s)}),t.axios.get(t.$store.state.localhost+"/Pro/navbar").then(function(e){var s=e.data;t.initNavigation(s)})},data:function(){return{openIframe:!1}},methods:{initNavigation:function(t){t&&this.$store.commit("setNavigation",t)},initLogin:function(t){t.userid>0?(this.$store.commit("setUserInfo",t),this.$store.commit("setLogin",!0),this.$store.state.update.getFav()):this.$store.commit("setLogin",!1)},initMessage:function(){var t=this,e=t.$refs.messageIframe.contentWindow.document;e.getElementById("clear-close")&&e.getElementById("clear-close").addEventListener("click",function(){t.openIframe=!1})},openMessage:function(){var t=this;if(!t.$store.state.login)return t.$layer.msg(t.$lang.tradeLogin,{time:1e3}),!1;t.openIframe=!0,setTimeout(function(){var e=t.$refs.messageIframe.contentWindow.document.getElementById("websocket-cont-wrap");0==e.scrollTop&&(e.scrollTop=e.scrollHeight)},10)},initMarket:function(t){var e="0.1";if(t.round&&t.round>1){e="0.";for(var s=1;s<t.round;s++)e+="0";e+="1"}t.step=e;var i="0.1";if(t.p_round&&t.p_round>1){i="0.";for(var a=1;a<t.p_round;a++)i+="0";i+="1"}t.p_step=i,this.$store.commit("setMarketInfo",t),this.$store.commit("changeEntrustDepthRound",t.p_round),this.$store.commit("setInitMarket",!0),document.title=t.title}}},Pt={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wrap"},[e("Header",{attrs:{coinlist:this.$store.state.coinlist}}),this._v(" "),e("Content")],1)},staticRenderFns:[]},It=s("VU/8")(Dt,Pt,!1,null,null,null).exports,Mt=s("mtWM"),Lt=s.n(Mt),Nt=s("Rf8U"),Bt=s.n(Nt),jt=s("mw3O"),Ft=s.n(jt),Et=s("NC6I"),At=s.n(Et),Ut={langEn:"English",langEnclass:"gb",langZh:"中文",langZhclass:"cn",menuHome:"Home",menuCoin:"Trade",menuOtc:"OTC",menuUser:"User",menuNew:"Listing",menuArt:"News",menuLogin:"Sign In",menuLogout:"Sign Out",menuRegister:"Sign Up",menuSkin:"Themes",menuC2Ctrade:"C2C",menuOTCtrade:"OTC",menuLevel:"VIP Level",menuLeveltrade:"Trade Discount",menuBalance:"Balance",menuFrozen:"Frozen",copyright:"YourSite © 2020 ",coinlistsearch:"Search ",coinlistLimited:"Limited",coinlistFav:"Fav",coinlistCoins:"Coins",coinlistPrice:"Price",coinlistChange:"Change",coinlistMain:"Main",coinlistInnovation:"Innovation",coinlistExperiment:"Experiment",coinlistIntroduction:"Introduction",coinlistload:"more",kline:"K line",klinePrice:"Price",klineHigh:"High",klineLow:"Low",klinePV:"P*V",klineV:"24H V",klinePro:"Pro",klineIntro:"Intro",klineChange:"Change",tradeAlert1:"Trade password setting",tradeAlert2:"Enter Trade password Once Per Session",tradeAlert3:"Enter Trade password For Each Trade",tradeAlert4:"No Password Required",tradeAlert5:"Input trade password",tradeAlert6:"Save",tradeBuy:"Buy",tradeBalance:"Balance",tradeAvbl:"Avbl",tradeDeposit:"Deposit",tradeWithdraw:"Withdraw",tradeMarket:"Market",tradeMaximum1:"Maximum",tradeMaximum2:"Maximum",tradeFullBuy:"Full position, set the number of purchases to the maximum",tradeFullSell:"Full position, set the number of sell to the maximum",tradeBestBuy:"Best Buy ",tradeBuyPrice:"Buy Price",tradeBuyPriceplaceholder:"Enter Price",tradeBuyVolume:"Buy Qty",tradeRatio:"Ratio",tradeSetting:"Setting",tradeAmount:"Amount",tradeTradePassword:"Trade Password",tradeFee:"Fee ",tradeFee2:" Billed while exchanged, refunded while cancelled",tradeSell:"Sell",tradeBestSell:"Best Sell ",tradeSellPrice:"Sell Price",tradeSellVolume:"Sell Qty",tradeLogin:"Please sign in",tradeTips1:"Please enter the purchase price",tradeTips2:"Please enter the number of purchases",tradeTips3:"Please enter the transaction password",tradeTips4:"Total transaction amount cannot be less than 20",tradeTips5:"Please enter the selling price",tradeTips6:"Please enter the quantity sold",tradeTips7:"Please enter the price",assetHistoryOrder:"History Order",assetOpenOrder:"Open Order",assetTime:"Time",assetTime1:"Issued Time",assetTime2:"Trading Time",assetBuySell:"Buy/Sell",assetOperation:"Operation",assetAmount:"Amount",assetVolume:"Volume",assetCancel:"Cancel",assetNotData:"There is currently no data!",assetCancel2:"Sure you cancel this order?",assetDepth:"Depth",assetDeal:"completed",viewMore:"View More",pengingorderNew:"Last Price",pengingorderBuyTitle:"",pengingorderSellTitle:"",pengingorderBuy:"Buy",pengingorderSell:"Sell",latestdealLastTrade:"Last Trade",latestdealPrice:"Price",latestdealVolume:"Volume",latestdealDepth:"Depth",depthAmount:"Total"},Ot=Ut,Rt={langEn:"English",langEnclass:"gb",langZh:"中文",langZhclass:"cn",menuHome:"首页",menuCoin:"币币交易",menuOtc:"法币交易",menuUser:"用户中心",menuNew:"上币申请",menuArt:"资讯中心",menuLogin:"登录",menuLogout:"退出",menuRegister:"注册",menuSkin:"皮肤",menuC2Ctrade:"C2C交易",menuOTCtrade:"OTC交易",menuLevel:"当前等级",menuLeveltrade:"当前交易费折扣",menuBalance:"可用余额",menuFrozen:"冻结委托",copyright:"YourSite © 2020",coinlistsearch:"搜索",coinlistLimited:"限时",coinlistFav:"自选",coinlistCoins:"币种",coinlistPrice:"价格",coinlistChange:"日涨跌",coinlistMain:"主区",coinlistInnovation:"创新区",coinlistExperiment:"实验区",coinlistIntroduction:"介绍",coinlistload:"加载更多",kline:"K线",klinePrice:"当前价",klineHigh:"最高价",klineLow:"最低价",klinePV:"总额",klineV:"24H总量",klinePro:"专业版",klineIntro:"介绍",klineChange:"涨幅",tradeAlert1:"交易密码设置",tradeAlert2:"每次登录只输入一次交易密码",tradeAlert3:"每笔交易都输入交易密码",tradeAlert4:"每次交易都不需要输入交易密码",tradeAlert5:"请输入密码",tradeAlert6:"保存",tradeBuy:"买入",tradeBalance:"我的余额",tradeAvbl:"Avbl",tradeDeposit:"充值",tradeWithdraw:"提现",tradeMarket:"行情",tradeMaximum1:"最大可买",tradeMaximum2:"最大可卖",tradeFullBuy:"满仓(全买)，设置买入数量为最大值",tradeFullSell:"满仓(全卖)，设置卖出数量为最大值",tradeBestBuy:"最佳买价",tradeBuyPrice:"买入价格",tradeBuyPriceplaceholder:"此出价为1个币的价格",tradeBuyVolume:"买入量",tradeRatio:"比例",tradeSetting:"设置",tradeAmount:"总价",tradeTradePassword:"交易密码",tradeFee:"手续费",tradeFee2:"成交才收，撤单退回",tradeSell:"卖出",tradeBestSell:"最佳卖价",tradeSellPrice:"卖出价格",tradeSellVolume:"卖出量",tradeLogin:"请登录",tradeTips1:"请输入买入价格",tradeTips2:"请输入买入数量",tradeTips3:"请输入交易密码",tradeTips4:"交易总额不能小于20",tradeTips5:"请输入卖出价格",tradeTips6:"请输入卖出数量",tradeTips7:"请输入价格",assetHistoryOrder:"历史委托",assetOpenOrder:"当前委托",assetTime:"时间",assetTime1:"挂单时间",assetTime2:"成交时间",assetBuySell:"买/卖",assetOperation:"操作",assetAmount:"总额",assetVolume:"数量",assetCancel:"撤销",assetNotData:"当前无数据!",assetCancel2:"确定撤销？",assetDepth:"深度",assetDeal:"已成交",viewMore:"View More",pengingorderNew:"最新价",pengingorderBuyTitle:"",pengingorderSellTitle:"",pengingorderBuy:"买",pengingorderSell:"卖",latestdealLastTrade:"最新成交",latestdealPrice:"成交价",latestdealVolume:"成交量",latestdealDepth:"深度",depthAmount:"累计"},Vt=Rt,zt=s("iAKh"),Wt=s.n(zt);i.a.use(Wt.a),Lt.a.defaults.headers.post.Accept="application/json, text/javascript, */*; q=0.01",Lt.a.defaults.headers.post["X-Requested-With"]="xmlhttprequest",Lt.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8",Lt.a.interceptors.request.use(function(t){return t.data=Ft.a.stringify(t.data,{arrayFormat:"brackets"}),t}),i.a.use(Bt.a,Lt.a),i.a.prototype.$md5=At.a,i.a.prototype.$Cookies=r;var Ht=r.get("think_language")||"en-us";i.a.prototype.$lang="en-us"==Ht?Ot:Vt,i.a.config.productionTip=!1,new i.a({el:"#app",components:{App:It},store:h,template:"<App/>"})},QR4E:function(t,e){},XTKv:function(t,e){},n4oI:function(t,e){},xKWN:function(t,e){}},[0]);
//# sourceMappingURL=app.0098f5740db87a2c2999.js.map